{"ast":null,"code":"import { __extends } from \"tslib\";\nimport PDFDict from \"../objects/PDFDict\";\nimport PDFName from \"../objects/PDFName\";\nimport PDFRef from \"../objects/PDFRef\";\nimport PDFString from \"../objects/PDFString\";\nimport PDFHexString from \"../objects/PDFHexString\";\nimport BorderStyle from \"./BorderStyle\";\nimport PDFAnnotation from \"./PDFAnnotation\";\nimport AppearanceCharacteristics from \"./AppearanceCharacteristics\";\nvar PDFWidgetAnnotation = /** @class */function (_super) {\n  __extends(PDFWidgetAnnotation, _super);\n  function PDFWidgetAnnotation() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  PDFWidgetAnnotation.prototype.MK = function () {\n    var MK = this.dict.lookup(PDFName.of('MK'));\n    if (MK instanceof PDFDict) return MK;\n    return undefined;\n  };\n  PDFWidgetAnnotation.prototype.BS = function () {\n    var BS = this.dict.lookup(PDFName.of('BS'));\n    if (BS instanceof PDFDict) return BS;\n    return undefined;\n  };\n  PDFWidgetAnnotation.prototype.DA = function () {\n    var da = this.dict.lookup(PDFName.of('DA'));\n    if (da instanceof PDFString || da instanceof PDFHexString) return da;\n    return undefined;\n  };\n  PDFWidgetAnnotation.prototype.P = function () {\n    var P = this.dict.get(PDFName.of('P'));\n    if (P instanceof PDFRef) return P;\n    return undefined;\n  };\n  PDFWidgetAnnotation.prototype.setP = function (page) {\n    this.dict.set(PDFName.of('P'), page);\n  };\n  PDFWidgetAnnotation.prototype.setDefaultAppearance = function (appearance) {\n    this.dict.set(PDFName.of('DA'), PDFString.of(appearance));\n  };\n  PDFWidgetAnnotation.prototype.getDefaultAppearance = function () {\n    var DA = this.DA();\n    if (DA instanceof PDFHexString) {\n      return DA.decodeText();\n    }\n    return DA === null || DA === void 0 ? void 0 : DA.asString();\n  };\n  PDFWidgetAnnotation.prototype.getAppearanceCharacteristics = function () {\n    var MK = this.MK();\n    if (MK) return AppearanceCharacteristics.fromDict(MK);\n    return undefined;\n  };\n  PDFWidgetAnnotation.prototype.getOrCreateAppearanceCharacteristics = function () {\n    var MK = this.MK();\n    if (MK) return AppearanceCharacteristics.fromDict(MK);\n    var ac = AppearanceCharacteristics.fromDict(this.dict.context.obj({}));\n    this.dict.set(PDFName.of('MK'), ac.dict);\n    return ac;\n  };\n  PDFWidgetAnnotation.prototype.getBorderStyle = function () {\n    var BS = this.BS();\n    if (BS) return BorderStyle.fromDict(BS);\n    return undefined;\n  };\n  PDFWidgetAnnotation.prototype.getOrCreateBorderStyle = function () {\n    var BS = this.BS();\n    if (BS) return BorderStyle.fromDict(BS);\n    var bs = BorderStyle.fromDict(this.dict.context.obj({}));\n    this.dict.set(PDFName.of('BS'), bs.dict);\n    return bs;\n  };\n  PDFWidgetAnnotation.prototype.getOnValue = function () {\n    var _a;\n    var normal = (_a = this.getAppearances()) === null || _a === void 0 ? void 0 : _a.normal;\n    if (normal instanceof PDFDict) {\n      var keys = normal.keys();\n      for (var idx = 0, len = keys.length; idx < len; idx++) {\n        var key = keys[idx];\n        if (key !== PDFName.of('Off')) return key;\n      }\n    }\n    return undefined;\n  };\n  PDFWidgetAnnotation.fromDict = function (dict) {\n    return new PDFWidgetAnnotation(dict);\n  };\n  PDFWidgetAnnotation.create = function (context, parent) {\n    var dict = context.obj({\n      Type: 'Annot',\n      Subtype: 'Widget',\n      Rect: [0, 0, 0, 0],\n      Parent: parent\n    });\n    return new PDFWidgetAnnotation(dict);\n  };\n  return PDFWidgetAnnotation;\n}(PDFAnnotation);\nexport default PDFWidgetAnnotation;","map":{"version":3,"names":["__extends","PDFDict","PDFName","PDFRef","PDFString","PDFHexString","BorderStyle","PDFAnnotation","AppearanceCharacteristics","PDFWidgetAnnotation","_super","apply","arguments","prototype","MK","dict","lookup","of","undefined","BS","DA","da","P","get","setP","page","set","setDefaultAppearance","appearance","getDefaultAppearance","decodeText","asString","getAppearanceCharacteristics","fromDict","getOrCreateAppearanceCharacteristics","ac","context","obj","getBorderStyle","getOrCreateBorderStyle","bs","getOnValue","_a","normal","getAppearances","keys","idx","len","length","key","create","parent","Type","Subtype","Rect","Parent"],"sources":["E:/PROA/frontPROA/node_modules/pdf-lib/es/core/annotation/PDFWidgetAnnotation.js"],"sourcesContent":["import { __extends } from \"tslib\";\nimport PDFDict from \"../objects/PDFDict\";\nimport PDFName from \"../objects/PDFName\";\nimport PDFRef from \"../objects/PDFRef\";\nimport PDFString from \"../objects/PDFString\";\nimport PDFHexString from \"../objects/PDFHexString\";\nimport BorderStyle from \"./BorderStyle\";\nimport PDFAnnotation from \"./PDFAnnotation\";\nimport AppearanceCharacteristics from \"./AppearanceCharacteristics\";\nvar PDFWidgetAnnotation = /** @class */ (function (_super) {\n    __extends(PDFWidgetAnnotation, _super);\n    function PDFWidgetAnnotation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PDFWidgetAnnotation.prototype.MK = function () {\n        var MK = this.dict.lookup(PDFName.of('MK'));\n        if (MK instanceof PDFDict)\n            return MK;\n        return undefined;\n    };\n    PDFWidgetAnnotation.prototype.BS = function () {\n        var BS = this.dict.lookup(PDFName.of('BS'));\n        if (BS instanceof PDFDict)\n            return BS;\n        return undefined;\n    };\n    PDFWidgetAnnotation.prototype.DA = function () {\n        var da = this.dict.lookup(PDFName.of('DA'));\n        if (da instanceof PDFString || da instanceof PDFHexString)\n            return da;\n        return undefined;\n    };\n    PDFWidgetAnnotation.prototype.P = function () {\n        var P = this.dict.get(PDFName.of('P'));\n        if (P instanceof PDFRef)\n            return P;\n        return undefined;\n    };\n    PDFWidgetAnnotation.prototype.setP = function (page) {\n        this.dict.set(PDFName.of('P'), page);\n    };\n    PDFWidgetAnnotation.prototype.setDefaultAppearance = function (appearance) {\n        this.dict.set(PDFName.of('DA'), PDFString.of(appearance));\n    };\n    PDFWidgetAnnotation.prototype.getDefaultAppearance = function () {\n        var DA = this.DA();\n        if (DA instanceof PDFHexString) {\n            return DA.decodeText();\n        }\n        return DA === null || DA === void 0 ? void 0 : DA.asString();\n    };\n    PDFWidgetAnnotation.prototype.getAppearanceCharacteristics = function () {\n        var MK = this.MK();\n        if (MK)\n            return AppearanceCharacteristics.fromDict(MK);\n        return undefined;\n    };\n    PDFWidgetAnnotation.prototype.getOrCreateAppearanceCharacteristics = function () {\n        var MK = this.MK();\n        if (MK)\n            return AppearanceCharacteristics.fromDict(MK);\n        var ac = AppearanceCharacteristics.fromDict(this.dict.context.obj({}));\n        this.dict.set(PDFName.of('MK'), ac.dict);\n        return ac;\n    };\n    PDFWidgetAnnotation.prototype.getBorderStyle = function () {\n        var BS = this.BS();\n        if (BS)\n            return BorderStyle.fromDict(BS);\n        return undefined;\n    };\n    PDFWidgetAnnotation.prototype.getOrCreateBorderStyle = function () {\n        var BS = this.BS();\n        if (BS)\n            return BorderStyle.fromDict(BS);\n        var bs = BorderStyle.fromDict(this.dict.context.obj({}));\n        this.dict.set(PDFName.of('BS'), bs.dict);\n        return bs;\n    };\n    PDFWidgetAnnotation.prototype.getOnValue = function () {\n        var _a;\n        var normal = (_a = this.getAppearances()) === null || _a === void 0 ? void 0 : _a.normal;\n        if (normal instanceof PDFDict) {\n            var keys = normal.keys();\n            for (var idx = 0, len = keys.length; idx < len; idx++) {\n                var key = keys[idx];\n                if (key !== PDFName.of('Off'))\n                    return key;\n            }\n        }\n        return undefined;\n    };\n    PDFWidgetAnnotation.fromDict = function (dict) {\n        return new PDFWidgetAnnotation(dict);\n    };\n    PDFWidgetAnnotation.create = function (context, parent) {\n        var dict = context.obj({\n            Type: 'Annot',\n            Subtype: 'Widget',\n            Rect: [0, 0, 0, 0],\n            Parent: parent,\n        });\n        return new PDFWidgetAnnotation(dict);\n    };\n    return PDFWidgetAnnotation;\n}(PDFAnnotation));\nexport default PDFWidgetAnnotation;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
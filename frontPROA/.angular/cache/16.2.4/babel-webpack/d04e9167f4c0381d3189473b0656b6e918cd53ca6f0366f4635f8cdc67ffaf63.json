{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../services/autenticacao/autenticacao.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/icon\";\nimport * as i6 from \"@angular/material/input\";\nimport * as i7 from \"@angular/material/form-field\";\nimport * as i8 from \"@angular/material/button\";\nimport * as i9 from \"@angular/material/card\";\nfunction LoginComponent_mat_error_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" E-mail deve conter um valor v\\u00E1lido \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_mat_error_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" A senha deve ter no m\\u00EDnimo 6 caracteres \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class LoginComponent {\n  constructor(formBuilder, authService, router) {\n    this.formBuilder = formBuilder;\n    this.authService = authService;\n    this.router = router;\n    this.hide = true;\n    this.usuarioLogado = false;\n  }\n  ngOnInit() {\n    this.criarFormulario();\n    // Monitora se o usuário está logado\n    this.authService.isUsuarioLogado().subscribe(logado => {\n      this.usuarioLogado = logado;\n    });\n  }\n  criarFormulario() {\n    this.formLogin = this.formBuilder.group({\n      email: ['', [Validators.required, Validators.email]],\n      senha: ['', [Validators.required, Validators.minLength(6)]]\n    });\n  }\n  login() {\n    if (!this.formLogin.valid) {\n      return;\n    }\n    this.authService.login(this.formLogin.getRawValue()).then(() => {\n      this.router.navigate(['/inicio']);\n    }).catch(error => {\n      console.error('Erro ao tentar fazer o login', error);\n      alert('Erro ao tentar fazer o login');\n    });\n  }\n  esqueciMinhaSenha() {\n    const email = this.formLogin.get('email')?.value;\n    if (!email) {\n      alert('Por favor, insira o seu e-mail para recuperar a senha.');\n      return;\n    }\n    this.authService.resetPassword(email).then(() => {\n      console.log('E-mail de reset de senha enviado.');\n    }).catch(error => {\n      console.error('Erro ao tentar enviar o e-mail de reset de senha', error);\n    });\n  }\n  static #_ = this.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AutenticacaoService), i0.ɵɵdirectiveInject(i3.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"app-login\"]],\n    decls: 30,\n    vars: 8,\n    consts: [[1, \"container\"], [1, \"flex-container\"], [1, \"login-wrapper\"], [1, \"title\"], [1, \"login-container\"], [3, \"formGroup\"], [\"appearance\", \"outline\", 1, \"flex-item\"], [\"matSuffix\", \"\"], [\"matInput\", \"\", \"placeholder\", \"email@email.com\", \"formControlName\", \"email\"], [4, \"ngIf\"], [\"matInput\", \"\", \"formControlName\", \"senha\", 3, \"type\"], [\"mat-icon-button\", \"\", \"matSuffix\", \"\", 1, \"icon-button\", 3, \"click\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"disabled\", \"click\"], [\"mat-button\", \"\", \"type\", \"button\", 3, \"click\"], [1, \"promotional-image\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h1\", 3);\n        i0.ɵɵtext(4, \"Projeto de apoio a Regulariza\\u00E7\\u00E3o em opera\\u00E7\\u00F5es Aquavi\\u00E1rias\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 4)(6, \"mat-card\")(7, \"form\", 5)(8, \"h2\");\n        i0.ɵɵtext(9, \"Login\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"mat-form-field\", 6)(11, \"mat-label\");\n        i0.ɵɵtext(12, \"E-mail\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"mat-icon\", 7);\n        i0.ɵɵtext(14, \"email\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(15, \"input\", 8);\n        i0.ɵɵtemplate(16, LoginComponent_mat_error_16_Template, 2, 0, \"mat-error\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"mat-form-field\", 6)(18, \"mat-label\");\n        i0.ɵɵtext(19, \"Senha\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(20, \"input\", 10);\n        i0.ɵɵelementStart(21, \"button\", 11);\n        i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_21_listener() {\n          return ctx.hide = !ctx.hide;\n        });\n        i0.ɵɵelementStart(22, \"mat-icon\", 7);\n        i0.ɵɵtext(23);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(24, LoginComponent_mat_error_24_Template, 2, 0, \"mat-error\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"button\", 12);\n        i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_25_listener() {\n          return ctx.login();\n        });\n        i0.ɵɵtext(26, \" Entrar \");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(27, \"button\", 13);\n        i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_27_listener() {\n          return ctx.esqueciMinhaSenha();\n        });\n        i0.ɵɵtext(28, \"Esqueci minha senha\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(29, \"div\", 14);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        let tmp_1_0;\n        let tmp_6_0;\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"formGroup\", ctx.formLogin);\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx.formLogin.get(\"email\")) == null ? null : tmp_1_0.hasError(\"email\"));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"type\", ctx.hide ? \"password\" : \"text\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵattribute(\"aria-label\", \"Esconder Senha\")(\"aria-pressed\", ctx.hide);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.hide ? \"visibility_off\" : \"visibility\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", (tmp_6_0 = ctx.formLogin.get(\"senha\")) == null ? null : tmp_6_0.hasError(\"minlength\"));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", !ctx.formLogin.valid);\n      }\n    },\n    dependencies: [i4.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, i5.MatIcon, i6.MatInput, i7.MatFormField, i7.MatLabel, i7.MatError, i7.MatSuffix, i8.MatButton, i8.MatIconButton, i9.MatCard],\n    styles: [\"\\n\\nbody[_ngcontent-%COMP%], html[_ngcontent-%COMP%] {\\n    margin: 0;\\n    padding: 0;\\n    font-family: 'Arial', sans-serif;\\n    box-sizing: border-box;\\n    height: 100%;\\n    width: 100%;\\n    background-color: #ffffff; \\n\\n}\\n\\n.container[_ngcontent-%COMP%] {\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    padding: 20px;\\n    min-height: 87.5vh;\\n}\\n\\n.flex-container[_ngcontent-%COMP%] {\\n    display: flex;\\n    width: 100%;\\n    max-width: 1000px;\\n    background-color: #ffffff; \\n\\n    box-shadow: 0 0 10px rgba(0,0,0,0.1);\\n    border-radius: 8px;\\n    overflow: hidden;\\n}\\n\\n.login-wrapper[_ngcontent-%COMP%] {\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n    justify-content: center;\\n    width: 100%;\\n    max-width: 600px;\\n    padding: 20px;\\n}\\n\\n.title[_ngcontent-%COMP%] {\\n    color: #01579b; \\n\\n    text-align: center;\\n    margin-bottom: 20px;\\n    font-size: 2em;\\n}\\n\\n.login-container[_ngcontent-%COMP%] {\\n    width: 100%;\\n    background-color: #e0f7fa; \\n\\n    padding: 20px;\\n    border-radius: 8px;\\n    box-shadow: 0 0 10px rgba(0,0,0,0.1);\\n}\\n\\n.promotional-image[_ngcontent-%COMP%] {\\n    width: 100%;\\n    max-width: 600px;\\n    background: url('barco.jpg') center center no-repeat;\\n    background-size: contain;\\n    margin-left: 20px; \\n\\n    flex-grow: 1;\\n}\\n\\n\\n\\nmat-card[_ngcontent-%COMP%] {\\n    width: 100%;\\n    background-color: transparent; \\n\\n    box-shadow: none; \\n\\n}\\n\\nh2[_ngcontent-%COMP%] {\\n    color: #01579b; \\n\\n    font-size: 1.5em;\\n    margin-bottom: 10px;\\n}\\n\\nmat-form-field[_ngcontent-%COMP%] {\\n    width: 100%;\\n    margin-bottom: 15px;\\n}\\n\\n.mat-icon-button[_ngcontent-%COMP%] {\\n    margin-left: 10px;\\n}\\n\\nbutton[mat-raised-button][_ngcontent-%COMP%] {\\n    width: 100%;\\n    background-color: #0277bd; \\n\\n    color: #ffffff; \\n\\n    font-weight: bold;\\n}\\n\\nbutton[mat-raised-button][_ngcontent-%COMP%]:disabled {\\n    background-color: #2297ce; \\n\\n    color: #ffffff; \\n\\n}\\n\\nmat-error[_ngcontent-%COMP%] {\\n    color: #d32f2f; \\n\\n}\\n\\n\\n\\n@media (max-width: 767px) {\\n    .flex-container[_ngcontent-%COMP%] {\\n        flex-direction: column;\\n        align-items: center;\\n    }\\n\\n    .promotional-image[_ngcontent-%COMP%] {\\n        margin-left: 0;\\n        height: 300px;\\n        width: 100%;\\n    }\\n\\n    .login-wrapper[_ngcontent-%COMP%] {\\n        max-width: 100%;\\n    }\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbG9naW4vbG9naW4uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0I7QUFDcEI7SUFDSSxTQUFTO0lBQ1QsVUFBVTtJQUNWLGdDQUFnQztJQUNoQyxzQkFBc0I7SUFDdEIsWUFBWTtJQUNaLFdBQVc7SUFDWCx5QkFBeUIsRUFBRSxxQkFBcUI7QUFDcEQ7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLHVCQUF1QjtJQUN2QixhQUFhO0lBQ2Isa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLFdBQVc7SUFDWCxpQkFBaUI7SUFDakIseUJBQXlCLEVBQUUscUJBQXFCO0lBQ2hELG9DQUFvQztJQUNwQyxrQkFBa0I7SUFDbEIsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixtQkFBbUI7SUFDbkIsdUJBQXVCO0lBQ3ZCLFdBQVc7SUFDWCxnQkFBZ0I7SUFDaEIsYUFBYTtBQUNqQjs7QUFFQTtJQUNJLGNBQWMsRUFBRSxjQUFjO0lBQzlCLGtCQUFrQjtJQUNsQixtQkFBbUI7SUFDbkIsY0FBYztBQUNsQjs7QUFFQTtJQUNJLFdBQVc7SUFDWCx5QkFBeUIsRUFBRSwwQkFBMEI7SUFDckQsYUFBYTtJQUNiLGtCQUFrQjtJQUNsQixvQ0FBb0M7QUFDeEM7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsZ0JBQWdCO0lBQ2hCLG9EQUFpRTtJQUNqRSx3QkFBd0I7SUFDeEIsaUJBQWlCLEVBQUUsNENBQTRDO0lBQy9ELFlBQVk7QUFDaEI7O0FBRUEsdUJBQXVCO0FBQ3ZCO0lBQ0ksV0FBVztJQUNYLDZCQUE2QixFQUFFLHdDQUF3QztJQUN2RSxnQkFBZ0IsRUFBRSxvQ0FBb0M7QUFDMUQ7O0FBRUE7SUFDSSxjQUFjLEVBQUUsY0FBYztJQUM5QixnQkFBZ0I7SUFDaEIsbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksV0FBVztJQUNYLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLGlCQUFpQjtBQUNyQjs7QUFFQTtJQUNJLFdBQVc7SUFDWCx5QkFBeUIsRUFBRSxrQkFBa0I7SUFDN0MsY0FBYyxFQUFFLFVBQVU7SUFDMUIsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0kseUJBQXlCLEVBQUUsa0NBQWtDO0lBQzdELGNBQWMsRUFBRSxVQUFVO0FBQzlCOztBQUVBO0lBQ0ksY0FBYyxFQUFFLG1CQUFtQjtBQUN2Qzs7QUFFQSxrQkFBa0I7QUFDbEI7SUFDSTtRQUNJLHNCQUFzQjtRQUN0QixtQkFBbUI7SUFDdkI7O0lBRUE7UUFDSSxjQUFjO1FBQ2QsYUFBYTtRQUNiLFdBQVc7SUFDZjs7SUFFQTtRQUNJLGVBQWU7SUFDbkI7QUFDSiIsInNvdXJjZXNDb250ZW50IjpbIi8qIEdsb2JhbCBzZXR0aW5ncyAqL1xyXG5ib2R5LCBodG1sIHtcclxuICAgIG1hcmdpbjogMDtcclxuICAgIHBhZGRpbmc6IDA7XHJcbiAgICBmb250LWZhbWlseTogJ0FyaWFsJywgc2Fucy1zZXJpZjtcclxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7IC8qIFdoaXRlIGJhY2tncm91bmQgKi9cclxufVxyXG5cclxuLmNvbnRhaW5lciB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgcGFkZGluZzogMjBweDtcclxuICAgIG1pbi1oZWlnaHQ6IDg3LjV2aDtcclxufVxyXG5cclxuLmZsZXgtY29udGFpbmVyIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIG1heC13aWR0aDogMTAwMHB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjsgLyogV2hpdGUgYmFja2dyb3VuZCAqL1xyXG4gICAgYm94LXNoYWRvdzogMCAwIDEwcHggcmdiYSgwLDAsMCwwLjEpO1xyXG4gICAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxufVxyXG5cclxuLmxvZ2luLXdyYXBwZXIge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIG1heC13aWR0aDogNjAwcHg7XHJcbiAgICBwYWRkaW5nOiAyMHB4O1xyXG59XHJcblxyXG4udGl0bGUge1xyXG4gICAgY29sb3I6ICMwMTU3OWI7IC8qIE5hdnkgQmx1ZSAqL1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMjBweDtcclxuICAgIGZvbnQtc2l6ZTogMmVtO1xyXG59XHJcblxyXG4ubG9naW4tY29udGFpbmVyIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2UwZjdmYTsgLyogTGlnaHQgYmx1ZSBiYWNrZ3JvdW5kICovXHJcbiAgICBwYWRkaW5nOiAyMHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG4gICAgYm94LXNoYWRvdzogMCAwIDEwcHggcmdiYSgwLDAsMCwwLjEpO1xyXG59XHJcblxyXG4ucHJvbW90aW9uYWwtaW1hZ2Uge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBtYXgtd2lkdGg6IDYwMHB4O1xyXG4gICAgYmFja2dyb3VuZDogdXJsKCcuLi8uLi9hc3NldHMvYmFyY28uanBnJykgY2VudGVyIGNlbnRlciBuby1yZXBlYXQ7XHJcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW47XHJcbiAgICBtYXJnaW4tbGVmdDogMjBweDsgLyogU3BhY2UgYmV0d2VlbiBpbWFnZSBhbmQgbG9naW4gY29udGFpbmVyICovXHJcbiAgICBmbGV4LWdyb3c6IDE7XHJcbn1cclxuXHJcbi8qIExvZ2luIEZvcm0gU3R5bGluZyAqL1xyXG5tYXQtY2FyZCB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50OyAvKiBUcmFuc3BhcmVudCBiYWNrZ3JvdW5kIGZvciBtYXQtY2FyZCAqL1xyXG4gICAgYm94LXNoYWRvdzogbm9uZTsgLyogUmVtb3ZlIGJveC1zaGFkb3cgZnJvbSBtYXQtY2FyZCAqL1xyXG59XHJcblxyXG5oMiB7XHJcbiAgICBjb2xvcjogIzAxNTc5YjsgLyogTmF2eSBCbHVlICovXHJcbiAgICBmb250LXNpemU6IDEuNWVtO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxufVxyXG5cclxubWF0LWZvcm0tZmllbGQge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxNXB4O1xyXG59XHJcblxyXG4ubWF0LWljb24tYnV0dG9uIHtcclxuICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xyXG59XHJcblxyXG5idXR0b25bbWF0LXJhaXNlZC1idXR0b25dIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAyNzdiZDsgLyogTWFyaXRpbWUgQmx1ZSAqL1xyXG4gICAgY29sb3I6ICNmZmZmZmY7IC8qIFdoaXRlICovXHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxufVxyXG5cclxuYnV0dG9uW21hdC1yYWlzZWQtYnV0dG9uXTpkaXNhYmxlZCB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjI5N2NlOyAvKiBMaWdodCBCbHVlIGZvciBkaXNhYmxlZCBzdGF0ZSAqL1xyXG4gICAgY29sb3I6ICNmZmZmZmY7IC8qIFdoaXRlICovXHJcbn1cclxuXHJcbm1hdC1lcnJvciB7XHJcbiAgICBjb2xvcjogI2QzMmYyZjsgLyogUmVkIGZvciBlcnJvcnMgKi9cclxufVxyXG5cclxuLyogTWVkaWEgUXVlcmllcyAqL1xyXG5AbWVkaWEgKG1heC13aWR0aDogNzY3cHgpIHtcclxuICAgIC5mbGV4LWNvbnRhaW5lciB7XHJcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgfVxyXG5cclxuICAgIC5wcm9tb3Rpb25hbC1pbWFnZSB7XHJcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDA7XHJcbiAgICAgICAgaGVpZ2h0OiAzMDBweDtcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgIH1cclxuXHJcbiAgICAubG9naW4td3JhcHBlciB7XHJcbiAgICAgICAgbWF4LXdpZHRoOiAxMDAlO1xyXG4gICAgfVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"names":["Validators","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","LoginComponent","constructor","formBuilder","authService","router","hide","usuarioLogado","ngOnInit","criarFormulario","isUsuarioLogado","subscribe","logado","formLogin","group","email","required","senha","minLength","login","valid","getRawValue","then","navigate","catch","error","console","alert","esqueciMinhaSenha","get","value","resetPassword","log","_","ɵɵdirectiveInject","i1","FormBuilder","i2","AutenticacaoService","i3","Router","_2","selectors","decls","vars","consts","template","LoginComponent_Template","rf","ctx","ɵɵelement","ɵɵtemplate","LoginComponent_mat_error_16_Template","ɵɵlistener","LoginComponent_Template_button_click_21_listener","LoginComponent_mat_error_24_Template","LoginComponent_Template_button_click_25_listener","LoginComponent_Template_button_click_27_listener","ɵɵadvance","ɵɵproperty","tmp_1_0","hasError","ɵɵattribute","ɵɵtextInterpolate","tmp_6_0"],"sources":["E:\\PROA\\frontPROA\\src\\app\\login\\login.component.ts","E:\\PROA\\frontPROA\\src\\app\\login\\login.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { AutenticacaoService } from '../services/autenticacao/autenticacao.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css']\r\n})\r\nexport class LoginComponent implements OnInit {\r\n\r\n  hide = true;\r\n  formLogin!: FormGroup;\r\n  usuarioLogado: boolean = false;\r\n\r\n  constructor(private readonly formBuilder: FormBuilder,\r\n              private authService: AutenticacaoService,\r\n              private router: Router) {}\r\n\r\n  ngOnInit(): void {\r\n    this.criarFormulario();\r\n\r\n    // Monitora se o usuário está logado\r\n    this.authService.isUsuarioLogado().subscribe(logado => {\r\n      this.usuarioLogado = logado;\r\n    });\r\n  }\r\n\r\n  criarFormulario(): void {\r\n    this.formLogin = this.formBuilder.group({\r\n      email: ['', [Validators.required, Validators.email]],\r\n      senha: ['', [Validators.required, Validators.minLength(6)]]\r\n    });\r\n  }\r\n\r\n  login(): void {\r\n    if (!this.formLogin.valid) {\r\n      return;\r\n    }\r\n\r\n    this.authService.login(this.formLogin.getRawValue())\r\n      .then(() => {\r\n        this.router.navigate(['/inicio']);\r\n      })\r\n      .catch(error => {\r\n        console.error('Erro ao tentar fazer o login', error);\r\n        alert('Erro ao tentar fazer o login');\r\n      });\r\n  }\r\n  \r\n  esqueciMinhaSenha(): void {\r\n    const email = this.formLogin.get('email')?.value;\r\n  \r\n    if (!email) {\r\n      alert('Por favor, insira o seu e-mail para recuperar a senha.');\r\n      return;\r\n    }\r\n  \r\n    this.authService.resetPassword(email)\r\n      .then(() => {\r\n        console.log('E-mail de reset de senha enviado.');\r\n      })\r\n      .catch(error => {\r\n        console.error('Erro ao tentar enviar o e-mail de reset de senha', error);\r\n      });\r\n  }\r\n}\r\n","<div class=\"container\">\r\n    <div class=\"flex-container\">\r\n        <div class=\"login-wrapper\">\r\n            <h1 class=\"title\">Projeto de apoio a Regularização em operações Aquaviárias</h1>\r\n            <div class=\"login-container\">\r\n                <mat-card>\r\n                    <form [formGroup]=\"formLogin\">\r\n                        <h2>Login</h2>\r\n                        <mat-form-field class=\"flex-item\" appearance=\"outline\">\r\n                            <mat-label>E-mail</mat-label>\r\n                            <mat-icon matSuffix>email</mat-icon>\r\n                            <input matInput placeholder=\"email@email.com\" formControlName=\"email\">\r\n                            <mat-error *ngIf=\"formLogin.get('email')?.hasError('email')\">\r\n                                E-mail deve conter um valor válido\r\n                            </mat-error>\r\n                        </mat-form-field>\r\n                \r\n                        <mat-form-field class=\"flex-item\" appearance=\"outline\">\r\n                            <mat-label>Senha</mat-label>\r\n                            <input matInput [type]=\"hide ? 'password' : 'text'\" formControlName=\"senha\">\r\n                            <button class=\"icon-button\" mat-icon-button matSuffix \r\n                                    (click)=\"hide = !hide\" \r\n                                    [attr.aria-label]=\"'Esconder Senha'\" \r\n                                    [attr.aria-pressed]=\"hide\">\r\n                                <mat-icon matSuffix>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>\r\n                            </button>\r\n                            <mat-error *ngIf=\"formLogin.get('senha')?.hasError('minlength')\">\r\n                                A senha deve ter no mínimo 6 caracteres\r\n                            </mat-error>\r\n                        </mat-form-field>\r\n                \r\n                        <button mat-raised-button color=\"primary\" (click)=\"login()\" \r\n                                [disabled]=\"!formLogin.valid\">\r\n                            Entrar\r\n                        </button>\r\n                    </form>\r\n                </mat-card>\r\n            </div>\r\n            <button mat-button type=\"button\" (click)=\"esqueciMinhaSenha()\">Esqueci minha senha</button>\r\n        </div>\r\n        <div class=\"promotional-image\"></div>\r\n    </div>\r\n</div>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
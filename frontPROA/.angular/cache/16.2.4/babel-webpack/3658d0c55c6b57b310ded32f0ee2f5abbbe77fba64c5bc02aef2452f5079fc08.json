{"ast":null,"code":"import { __extends } from \"tslib\";\nimport PDFDict from \"../objects/PDFDict\";\nimport PDFName from \"../objects/PDFName\";\nimport PDFAcroField from \"./PDFAcroField\";\nimport PDFWidgetAnnotation from \"../annotation/PDFWidgetAnnotation\";\nimport { IndexOutOfBoundsError } from \"../errors\";\nvar PDFAcroTerminal = /** @class */function (_super) {\n  __extends(PDFAcroTerminal, _super);\n  function PDFAcroTerminal() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  PDFAcroTerminal.prototype.FT = function () {\n    var nameOrRef = this.getInheritableAttribute(PDFName.of('FT'));\n    return this.dict.context.lookup(nameOrRef, PDFName);\n  };\n  PDFAcroTerminal.prototype.getWidgets = function () {\n    var kidDicts = this.Kids();\n    // This field is itself a widget\n    if (!kidDicts) return [PDFWidgetAnnotation.fromDict(this.dict)];\n    // This field's kids are its widgets\n    var widgets = new Array(kidDicts.size());\n    for (var idx = 0, len = kidDicts.size(); idx < len; idx++) {\n      var dict = kidDicts.lookup(idx, PDFDict);\n      widgets[idx] = PDFWidgetAnnotation.fromDict(dict);\n    }\n    return widgets;\n  };\n  PDFAcroTerminal.prototype.addWidget = function (ref) {\n    var Kids = this.normalizedEntries().Kids;\n    Kids.push(ref);\n  };\n  PDFAcroTerminal.prototype.removeWidget = function (idx) {\n    var kidDicts = this.Kids();\n    if (!kidDicts) {\n      // This field is itself a widget\n      if (idx !== 0) throw new IndexOutOfBoundsError(idx, 0, 0);\n      this.setKids([]);\n    } else {\n      // This field's kids are its widgets\n      if (idx < 0 || idx > kidDicts.size()) {\n        throw new IndexOutOfBoundsError(idx, 0, kidDicts.size());\n      }\n      kidDicts.remove(idx);\n    }\n  };\n  PDFAcroTerminal.prototype.normalizedEntries = function () {\n    var Kids = this.Kids();\n    // If this field is itself a widget (because it was only rendered once in\n    // the document, so the field and widget properties were merged) then we\n    // add itself to the `Kids` array. The alternative would be to try\n    // splitting apart the widget properties and creating a separate object\n    // for them.\n    if (!Kids) {\n      Kids = this.dict.context.obj([this.ref]);\n      this.dict.set(PDFName.of('Kids'), Kids);\n    }\n    return {\n      Kids: Kids\n    };\n  };\n  PDFAcroTerminal.fromDict = function (dict, ref) {\n    return new PDFAcroTerminal(dict, ref);\n  };\n  return PDFAcroTerminal;\n}(PDFAcroField);\nexport default PDFAcroTerminal;","map":{"version":3,"names":["__extends","PDFDict","PDFName","PDFAcroField","PDFWidgetAnnotation","IndexOutOfBoundsError","PDFAcroTerminal","_super","apply","arguments","prototype","FT","nameOrRef","getInheritableAttribute","of","dict","context","lookup","getWidgets","kidDicts","Kids","fromDict","widgets","Array","size","idx","len","addWidget","ref","normalizedEntries","push","removeWidget","setKids","remove","obj","set"],"sources":["E:/PROA/frontPROA/node_modules/pdf-lib/es/core/acroform/PDFAcroTerminal.js"],"sourcesContent":["import { __extends } from \"tslib\";\nimport PDFDict from \"../objects/PDFDict\";\nimport PDFName from \"../objects/PDFName\";\nimport PDFAcroField from \"./PDFAcroField\";\nimport PDFWidgetAnnotation from \"../annotation/PDFWidgetAnnotation\";\nimport { IndexOutOfBoundsError } from \"../errors\";\nvar PDFAcroTerminal = /** @class */ (function (_super) {\n    __extends(PDFAcroTerminal, _super);\n    function PDFAcroTerminal() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PDFAcroTerminal.prototype.FT = function () {\n        var nameOrRef = this.getInheritableAttribute(PDFName.of('FT'));\n        return this.dict.context.lookup(nameOrRef, PDFName);\n    };\n    PDFAcroTerminal.prototype.getWidgets = function () {\n        var kidDicts = this.Kids();\n        // This field is itself a widget\n        if (!kidDicts)\n            return [PDFWidgetAnnotation.fromDict(this.dict)];\n        // This field's kids are its widgets\n        var widgets = new Array(kidDicts.size());\n        for (var idx = 0, len = kidDicts.size(); idx < len; idx++) {\n            var dict = kidDicts.lookup(idx, PDFDict);\n            widgets[idx] = PDFWidgetAnnotation.fromDict(dict);\n        }\n        return widgets;\n    };\n    PDFAcroTerminal.prototype.addWidget = function (ref) {\n        var Kids = this.normalizedEntries().Kids;\n        Kids.push(ref);\n    };\n    PDFAcroTerminal.prototype.removeWidget = function (idx) {\n        var kidDicts = this.Kids();\n        if (!kidDicts) {\n            // This field is itself a widget\n            if (idx !== 0)\n                throw new IndexOutOfBoundsError(idx, 0, 0);\n            this.setKids([]);\n        }\n        else {\n            // This field's kids are its widgets\n            if (idx < 0 || idx > kidDicts.size()) {\n                throw new IndexOutOfBoundsError(idx, 0, kidDicts.size());\n            }\n            kidDicts.remove(idx);\n        }\n    };\n    PDFAcroTerminal.prototype.normalizedEntries = function () {\n        var Kids = this.Kids();\n        // If this field is itself a widget (because it was only rendered once in\n        // the document, so the field and widget properties were merged) then we\n        // add itself to the `Kids` array. The alternative would be to try\n        // splitting apart the widget properties and creating a separate object\n        // for them.\n        if (!Kids) {\n            Kids = this.dict.context.obj([this.ref]);\n            this.dict.set(PDFName.of('Kids'), Kids);\n        }\n        return { Kids: Kids };\n    };\n    PDFAcroTerminal.fromDict = function (dict, ref) {\n        return new PDFAcroTerminal(dict, ref);\n    };\n    return PDFAcroTerminal;\n}(PDFAcroField));\nexport default PDFAcroTerminal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { NextByteAssertionError } from \"../errors\";\nimport { decodePDFRawStream } from \"../streams/decode\";\nimport CharCodes from \"../syntax/CharCodes\";\n// TODO: See how line/col tracking affects performance\nvar ByteStream = /** @class */function () {\n  function ByteStream(bytes) {\n    this.idx = 0;\n    this.line = 0;\n    this.column = 0;\n    this.bytes = bytes;\n    this.length = this.bytes.length;\n  }\n  ByteStream.prototype.moveTo = function (offset) {\n    this.idx = offset;\n  };\n  ByteStream.prototype.next = function () {\n    var byte = this.bytes[this.idx++];\n    if (byte === CharCodes.Newline) {\n      this.line += 1;\n      this.column = 0;\n    } else {\n      this.column += 1;\n    }\n    return byte;\n  };\n  ByteStream.prototype.assertNext = function (expected) {\n    if (this.peek() !== expected) {\n      throw new NextByteAssertionError(this.position(), expected, this.peek());\n    }\n    return this.next();\n  };\n  ByteStream.prototype.peek = function () {\n    return this.bytes[this.idx];\n  };\n  ByteStream.prototype.peekAhead = function (steps) {\n    return this.bytes[this.idx + steps];\n  };\n  ByteStream.prototype.peekAt = function (offset) {\n    return this.bytes[offset];\n  };\n  ByteStream.prototype.done = function () {\n    return this.idx >= this.length;\n  };\n  ByteStream.prototype.offset = function () {\n    return this.idx;\n  };\n  ByteStream.prototype.slice = function (start, end) {\n    return this.bytes.slice(start, end);\n  };\n  ByteStream.prototype.position = function () {\n    return {\n      line: this.line,\n      column: this.column,\n      offset: this.idx\n    };\n  };\n  ByteStream.of = function (bytes) {\n    return new ByteStream(bytes);\n  };\n  ByteStream.fromPDFRawStream = function (rawStream) {\n    return ByteStream.of(decodePDFRawStream(rawStream).decode());\n  };\n  return ByteStream;\n}();\nexport default ByteStream;","map":{"version":3,"names":["NextByteAssertionError","decodePDFRawStream","CharCodes","ByteStream","bytes","idx","line","column","length","prototype","moveTo","offset","next","byte","Newline","assertNext","expected","peek","position","peekAhead","steps","peekAt","done","slice","start","end","of","fromPDFRawStream","rawStream","decode"],"sources":["E:/PROA/frontPROA/node_modules/pdf-lib/es/core/parser/ByteStream.js"],"sourcesContent":["import { NextByteAssertionError } from \"../errors\";\nimport { decodePDFRawStream } from \"../streams/decode\";\nimport CharCodes from \"../syntax/CharCodes\";\n// TODO: See how line/col tracking affects performance\nvar ByteStream = /** @class */ (function () {\n    function ByteStream(bytes) {\n        this.idx = 0;\n        this.line = 0;\n        this.column = 0;\n        this.bytes = bytes;\n        this.length = this.bytes.length;\n    }\n    ByteStream.prototype.moveTo = function (offset) {\n        this.idx = offset;\n    };\n    ByteStream.prototype.next = function () {\n        var byte = this.bytes[this.idx++];\n        if (byte === CharCodes.Newline) {\n            this.line += 1;\n            this.column = 0;\n        }\n        else {\n            this.column += 1;\n        }\n        return byte;\n    };\n    ByteStream.prototype.assertNext = function (expected) {\n        if (this.peek() !== expected) {\n            throw new NextByteAssertionError(this.position(), expected, this.peek());\n        }\n        return this.next();\n    };\n    ByteStream.prototype.peek = function () {\n        return this.bytes[this.idx];\n    };\n    ByteStream.prototype.peekAhead = function (steps) {\n        return this.bytes[this.idx + steps];\n    };\n    ByteStream.prototype.peekAt = function (offset) {\n        return this.bytes[offset];\n    };\n    ByteStream.prototype.done = function () {\n        return this.idx >= this.length;\n    };\n    ByteStream.prototype.offset = function () {\n        return this.idx;\n    };\n    ByteStream.prototype.slice = function (start, end) {\n        return this.bytes.slice(start, end);\n    };\n    ByteStream.prototype.position = function () {\n        return { line: this.line, column: this.column, offset: this.idx };\n    };\n    ByteStream.of = function (bytes) { return new ByteStream(bytes); };\n    ByteStream.fromPDFRawStream = function (rawStream) {\n        return ByteStream.of(decodePDFRawStream(rawStream).decode());\n    };\n    return ByteStream;\n}());\nexport default ByteStream;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
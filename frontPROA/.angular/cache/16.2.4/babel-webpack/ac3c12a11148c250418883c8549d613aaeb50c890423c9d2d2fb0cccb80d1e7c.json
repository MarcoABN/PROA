{"ast":null,"code":"import { __extends } from \"tslib\";\nimport PDFPage from \"../PDFPage\";\nimport PDFField, { assertFieldAppearanceOptions } from \"./PDFField\";\nimport { normalizeAppearance, defaultRadioGroupAppearanceProvider } from \"./appearances\";\nimport { rgb } from \"../colors\";\nimport { degrees } from \"../rotations\";\nimport { PDFName, PDFHexString, PDFDict, PDFAcroRadioButton, AcroButtonFlags } from \"../../core\";\nimport { assertIs, assertOrUndefined, assertIsOneOf } from \"../../utils\";\n/**\n * Represents a radio group field of a [[PDFForm]].\n *\n * [[PDFRadioGroup]] fields are collections of radio buttons. The purpose of a\n * radio group is to enable users to select one option from a set of mutually\n * exclusive choices. Each choice in a radio group is represented by a radio\n * button. Radio buttons each have two states: `on` and `off`. At most one\n * radio button in a group may be in the `on` state at any time. Users can\n * click on a radio button to select it (and thereby automatically deselect any\n * other radio button that might have already been selected). Some radio\n * groups allow users to toggle a selected radio button `off` by clicking on\n * it (see [[PDFRadioGroup.isOffToggleable]]).\n *\n * Note that some radio groups allow multiple radio buttons to be in the `on`\n * state at the same type **if** they represent the same underlying value (see\n * [[PDFRadioGroup.isMutuallyExclusive]]).\n */\nvar PDFRadioGroup = /** @class */function (_super) {\n  __extends(PDFRadioGroup, _super);\n  function PDFRadioGroup(acroRadioButton, ref, doc) {\n    var _this = _super.call(this, acroRadioButton, ref, doc) || this;\n    assertIs(acroRadioButton, 'acroRadioButton', [[PDFAcroRadioButton, 'PDFAcroRadioButton']]);\n    _this.acroField = acroRadioButton;\n    return _this;\n  }\n  /**\n   * Get the list of available options for this radio group. Each option is\n   * represented by a radio button. These radio buttons are displayed at\n   * various locations in the document, potentially on different pages (though\n   * typically they are stacked horizontally or vertically on the same page).\n   * For example:\n   * ```js\n   * const radioGroup = form.getRadioGroup('some.radioGroup.field')\n   * const options = radioGroup.getOptions()\n   * console.log('Radio Group options:', options)\n   * ```\n   * @returns The options for this radio group.\n   */\n  PDFRadioGroup.prototype.getOptions = function () {\n    var exportValues = this.acroField.getExportValues();\n    if (exportValues) {\n      var exportOptions = new Array(exportValues.length);\n      for (var idx = 0, len = exportValues.length; idx < len; idx++) {\n        exportOptions[idx] = exportValues[idx].decodeText();\n      }\n      return exportOptions;\n    }\n    var onValues = this.acroField.getOnValues();\n    var onOptions = new Array(onValues.length);\n    for (var idx = 0, len = onOptions.length; idx < len; idx++) {\n      onOptions[idx] = onValues[idx].decodeText();\n    }\n    return onOptions;\n  };\n  /**\n   * Get the selected option for this radio group. The selected option is\n   * represented by the radio button in this group that is turned on. At most\n   * one radio button in a group can be selected. If no buttons in this group\n   * are selected, `undefined` is returned.\n   * For example:\n   * ```js\n   * const radioGroup = form.getRadioGroup('some.radioGroup.field')\n   * const selected = radioGroup.getSelected()\n   * console.log('Selected radio button:', selected)\n   * ```\n   * @returns The selected option for this radio group.\n   */\n  PDFRadioGroup.prototype.getSelected = function () {\n    var value = this.acroField.getValue();\n    if (value === PDFName.of('Off')) return undefined;\n    var exportValues = this.acroField.getExportValues();\n    if (exportValues) {\n      var onValues = this.acroField.getOnValues();\n      for (var idx = 0, len = onValues.length; idx < len; idx++) {\n        if (onValues[idx] === value) return exportValues[idx].decodeText();\n      }\n    }\n    return value.decodeText();\n  };\n  // // TODO: Figure out why this seems to crash Acrobat. Maybe it's because we\n  // //       aren't removing the widget reference from the page's Annots?\n  // removeOption(option: string) {\n  //   assertIs(option, 'option', ['string']);\n  //   // TODO: Assert is valid `option`!\n  //   const onValues = this.acroField.getOnValues();\n  //   const exportValues = this.acroField.getExportValues();\n  //   if (exportValues) {\n  //     for (let idx = 0, len = exportValues.length; idx < len; idx++) {\n  //       if (exportValues[idx].decodeText() === option) {\n  //         this.acroField.removeWidget(idx);\n  //         this.acroField.removeExportValue(idx);\n  //       }\n  //     }\n  //   } else {\n  //     for (let idx = 0, len = onValues.length; idx < len; idx++) {\n  //       const value = onValues[idx];\n  //       if (value.decodeText() === option) {\n  //         this.acroField.removeWidget(idx);\n  //         this.acroField.removeExportValue(idx);\n  //       }\n  //     }\n  //   }\n  // }\n  /**\n   * Select an option for this radio group. This operation is analogous to a\n   * human user clicking one of the radio buttons in this group via a PDF\n   * reader to toggle it on. This method will update the underlying state of\n   * the radio group to indicate which option has been selected. PDF libraries\n   * and readers will be able to extract this value from the saved document and\n   * determine which option was selected.\n   *\n   * For example:\n   * ```js\n   * const radioGroup = form.getRadioGroup('best.superhero.radioGroup')\n   * radioGroup.select('One Punch Man')\n   * ```\n   *\n   * This method will mark this radio group as dirty, causing its appearance\n   * streams to be updated when either [[PDFDocument.save]] or\n   * [[PDFForm.updateFieldAppearances]] is called. The updated appearance\n   * streams will display a dot inside the widget of this check box field\n   * that represents the selected option.\n   *\n   * @param option The option to be selected.\n   */\n  PDFRadioGroup.prototype.select = function (option) {\n    assertIs(option, 'option', ['string']);\n    var validOptions = this.getOptions();\n    assertIsOneOf(option, 'option', validOptions);\n    this.markAsDirty();\n    var onValues = this.acroField.getOnValues();\n    var exportValues = this.acroField.getExportValues();\n    if (exportValues) {\n      for (var idx = 0, len = exportValues.length; idx < len; idx++) {\n        if (exportValues[idx].decodeText() === option) {\n          this.acroField.setValue(onValues[idx]);\n        }\n      }\n    } else {\n      for (var idx = 0, len = onValues.length; idx < len; idx++) {\n        var value = onValues[idx];\n        if (value.decodeText() === option) this.acroField.setValue(value);\n      }\n    }\n  };\n  /**\n   * Clear any selected option for this dropdown. This will result in all\n   * radio buttons in this group being toggled off. This method will update\n   * the underlying state of the dropdown to indicate that no radio buttons\n   * have been selected.\n   * For example:\n   * ```js\n   * const radioGroup = form.getRadioGroup('some.radioGroup.field')\n   * radioGroup.clear()\n   * ```\n   * This method will mark this radio group as dirty. See\n   * [[PDFRadioGroup.select]] for more details about what this means.\n   */\n  PDFRadioGroup.prototype.clear = function () {\n    this.markAsDirty();\n    this.acroField.setValue(PDFName.of('Off'));\n  };\n  /**\n   * Returns `true` if users can click on radio buttons in this group to toggle\n   * them off. The alternative is that once a user clicks on a radio button\n   * to select it, the only way to deselect it is by selecting on another radio\n   * button in the group. See [[PDFRadioGroup.enableOffToggling]] and\n   * [[PDFRadioGroup.disableOffToggling]]. For example:\n   * ```js\n   * const radioGroup = form.getRadioGroup('some.radioGroup.field')\n   * if (radioGroup.isOffToggleable()) console.log('Off toggling is enabled')\n   * ```\n   */\n  PDFRadioGroup.prototype.isOffToggleable = function () {\n    return !this.acroField.hasFlag(AcroButtonFlags.NoToggleToOff);\n  };\n  /**\n   * Allow users to click on selected radio buttons in this group to toggle\n   * them off. For example:\n   * ```js\n   * const radioGroup = form.getRadioGroup('some.radioGroup.field')\n   * radioGroup.enableOffToggling()\n   * ```\n   * > **NOTE:** This feature is documented in the PDF specification\n   * > (Table 226). However, most PDF readers do not respect this option and\n   * > prevent users from toggling radio buttons off even when it is enabled.\n   * > At the time of this writing (9/6/2020) Mac's Preview software did\n   * > respect the option. Adobe Acrobat, Foxit Reader, and Google Chrome did\n   * > not.\n   */\n  PDFRadioGroup.prototype.enableOffToggling = function () {\n    this.acroField.setFlagTo(AcroButtonFlags.NoToggleToOff, false);\n  };\n  /**\n   * Prevent users from clicking on selected radio buttons in this group to\n   * toggle them off. Clicking on a selected radio button will have no effect.\n   * The only way to deselect a selected radio button is to click on a\n   * different radio button in the group. For example:\n   * ```js\n   * const radioGroup = form.getRadioGroup('some.radioGroup.field')\n   * radioGroup.disableOffToggling()\n   * ```\n   */\n  PDFRadioGroup.prototype.disableOffToggling = function () {\n    this.acroField.setFlagTo(AcroButtonFlags.NoToggleToOff, true);\n  };\n  /**\n   * Returns `true` if the radio buttons in this group are mutually exclusive.\n   * This means that when the user selects a radio button, only that specific\n   * button will be turned on. Even if other radio buttons in the group\n   * represent the same value, they will not be enabled. The alternative to\n   * this is that clicking a radio button will select that button along with\n   * any other radio buttons in the group that share the same value. See\n   * [[PDFRadioGroup.enableMutualExclusion]] and\n   * [[PDFRadioGroup.disableMutualExclusion]].\n   * For example:\n   * ```js\n   * const radioGroup = form.getRadioGroup('some.radioGroup.field')\n   * if (radioGroup.isMutuallyExclusive()) console.log('Mutual exclusion is enabled')\n   * ```\n   */\n  PDFRadioGroup.prototype.isMutuallyExclusive = function () {\n    return !this.acroField.hasFlag(AcroButtonFlags.RadiosInUnison);\n  };\n  /**\n   * When the user clicks a radio button in this group it will be selected. In\n   * addition, any other radio buttons in this group that share the same\n   * underlying value will also be selected. For example:\n   * ```js\n   * const radioGroup = form.getRadioGroup('some.radioGroup.field')\n   * radioGroup.enableMutualExclusion()\n   * ```\n   * Note that this option must be enabled prior to adding options to the\n   * radio group. It does not currently apply retroactively to existing\n   * radio buttons in the group.\n   */\n  PDFRadioGroup.prototype.enableMutualExclusion = function () {\n    this.acroField.setFlagTo(AcroButtonFlags.RadiosInUnison, false);\n  };\n  /**\n   * When the user clicks a radio button in this group only it will be selected.\n   * No other radio buttons in the group will be selected, even if they share\n   * the same underlying value. For example:\n   * ```js\n   * const radioGroup = form.getRadioGroup('some.radioGroup.field')\n   * radioGroup.disableMutualExclusion()\n   * ```\n   * Note that this option must be disabled prior to adding options to the\n   * radio group. It does not currently apply retroactively to existing\n   * radio buttons in the group.\n   */\n  PDFRadioGroup.prototype.disableMutualExclusion = function () {\n    this.acroField.setFlagTo(AcroButtonFlags.RadiosInUnison, true);\n  };\n  /**\n   * Add a new radio button to this group on the specified page. For example:\n   * ```js\n   * const page = pdfDoc.addPage()\n   *\n   * const form = pdfDoc.getForm()\n   * const radioGroup = form.createRadioGroup('best.gundam')\n   *\n   * const options = {\n   *   x: 50,\n   *   width: 25,\n   *   height: 25,\n   *   textColor: rgb(1, 0, 0),\n   *   backgroundColor: rgb(0, 1, 0),\n   *   borderColor: rgb(0, 0, 1),\n   *   borderWidth: 2,\n   *   rotate: degrees(90),\n   * }\n   *\n   * radioGroup.addOptionToPage('Exia', page, { ...options, y: 50 })\n   * radioGroup.addOptionToPage('Dynames', page, { ...options, y: 110 })\n   * ```\n   * This will create a new radio button widget for this radio group field.\n   * @param option The option that the radio button widget represents.\n   * @param page The page to which the radio button widget should be added.\n   * @param options The options to be used when adding the radio button widget.\n   */\n  PDFRadioGroup.prototype.addOptionToPage = function (option, page, options) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n    assertIs(option, 'option', ['string']);\n    assertIs(page, 'page', [[PDFPage, 'PDFPage']]);\n    assertFieldAppearanceOptions(options);\n    // Create a widget for this radio button\n    var widget = this.createWidget({\n      x: (_a = options === null || options === void 0 ? void 0 : options.x) !== null && _a !== void 0 ? _a : 0,\n      y: (_b = options === null || options === void 0 ? void 0 : options.y) !== null && _b !== void 0 ? _b : 0,\n      width: (_c = options === null || options === void 0 ? void 0 : options.width) !== null && _c !== void 0 ? _c : 50,\n      height: (_d = options === null || options === void 0 ? void 0 : options.height) !== null && _d !== void 0 ? _d : 50,\n      textColor: (_e = options === null || options === void 0 ? void 0 : options.textColor) !== null && _e !== void 0 ? _e : rgb(0, 0, 0),\n      backgroundColor: (_f = options === null || options === void 0 ? void 0 : options.backgroundColor) !== null && _f !== void 0 ? _f : rgb(1, 1, 1),\n      borderColor: (_g = options === null || options === void 0 ? void 0 : options.borderColor) !== null && _g !== void 0 ? _g : rgb(0, 0, 0),\n      borderWidth: (_h = options === null || options === void 0 ? void 0 : options.borderWidth) !== null && _h !== void 0 ? _h : 1,\n      rotate: (_j = options === null || options === void 0 ? void 0 : options.rotate) !== null && _j !== void 0 ? _j : degrees(0),\n      hidden: options === null || options === void 0 ? void 0 : options.hidden,\n      page: page.ref\n    });\n    var widgetRef = this.doc.context.register(widget.dict);\n    // Add widget to this field\n    var apStateValue = this.acroField.addWidgetWithOpt(widgetRef, PDFHexString.fromText(option), !this.isMutuallyExclusive());\n    // Set appearance streams for widget\n    widget.setAppearanceState(PDFName.of('Off'));\n    this.updateWidgetAppearance(widget, apStateValue);\n    // Add widget to the given page\n    page.node.addAnnot(widgetRef);\n  };\n  /**\n   * Returns `true` if any of this group's radio button widgets do not have an\n   * appearance stream for their current state. For example:\n   * ```js\n   * const radioGroup = form.getRadioGroup('some.radioGroup.field')\n   * if (radioGroup.needsAppearancesUpdate()) console.log('Needs update')\n   * ```\n   * @returns Whether or not this radio group needs an appearance update.\n   */\n  PDFRadioGroup.prototype.needsAppearancesUpdate = function () {\n    var _a;\n    var widgets = this.acroField.getWidgets();\n    for (var idx = 0, len = widgets.length; idx < len; idx++) {\n      var widget = widgets[idx];\n      var state = widget.getAppearanceState();\n      var normal = (_a = widget.getAppearances()) === null || _a === void 0 ? void 0 : _a.normal;\n      if (!(normal instanceof PDFDict)) return true;\n      if (state && !normal.has(state)) return true;\n    }\n    return false;\n  };\n  /**\n   * Update the appearance streams for each of this group's radio button widgets\n   * using the default appearance provider for radio groups. For example:\n   * ```js\n   * const radioGroup = form.getRadioGroup('some.radioGroup.field')\n   * radioGroup.defaultUpdateAppearances()\n   * ```\n   */\n  PDFRadioGroup.prototype.defaultUpdateAppearances = function () {\n    this.updateAppearances();\n  };\n  // rg.updateAppearances((field: any, widget: any) => {\n  //   assert(field === rg);\n  //   assert(widget instanceof PDFWidgetAnnotation);\n  //   return { on: [...rectangle, ...circle], off: [...rectangle, ...circle] };\n  // });\n  /**\n   * Update the appearance streams for each of this group's radio button widgets\n   * using the given appearance provider. If no `provider` is passed, the\n   * default appearance provider for radio groups will be used. For example:\n   * ```js\n   * const radioGroup = form.getRadioGroup('some.radioGroup.field')\n   * radioGroup.updateAppearances((field, widget) => {\n   *   ...\n   *   return {\n   *     normal: { on: drawRadioButton(...), off: drawRadioButton(...) },\n   *     down: { on: drawRadioButton(...), off: drawRadioButton(...) },\n   *   }\n   * })\n   * ```\n   * @param provider Optionally, the appearance provider to be used for\n   *                 generating the contents of the appearance streams.\n   */\n  PDFRadioGroup.prototype.updateAppearances = function (provider) {\n    assertOrUndefined(provider, 'provider', [Function]);\n    var widgets = this.acroField.getWidgets();\n    for (var idx = 0, len = widgets.length; idx < len; idx++) {\n      var widget = widgets[idx];\n      var onValue = widget.getOnValue();\n      if (!onValue) continue;\n      this.updateWidgetAppearance(widget, onValue, provider);\n    }\n  };\n  PDFRadioGroup.prototype.updateWidgetAppearance = function (widget, onValue, provider) {\n    var apProvider = provider !== null && provider !== void 0 ? provider : defaultRadioGroupAppearanceProvider;\n    var appearances = normalizeAppearance(apProvider(this, widget));\n    this.updateOnOffWidgetAppearance(widget, onValue, appearances);\n  };\n  /**\n   * > **NOTE:** You probably don't want to call this method directly. Instead,\n   * > consider using the [[PDFForm.getOptionList]] method, which will create an\n   * > instance of [[PDFOptionList]] for you.\n   *\n   * Create an instance of [[PDFOptionList]] from an existing acroRadioButton\n   * and ref\n   *\n   * @param acroRadioButton The underlying `PDFAcroRadioButton` for this\n   *                        radio group.\n   * @param ref The unique reference for this radio group.\n   * @param doc The document to which this radio group will belong.\n   */\n  PDFRadioGroup.of = function (acroRadioButton, ref, doc) {\n    return new PDFRadioGroup(acroRadioButton, ref, doc);\n  };\n  return PDFRadioGroup;\n}(PDFField);\nexport default PDFRadioGroup;","map":{"version":3,"names":["__extends","PDFPage","PDFField","assertFieldAppearanceOptions","normalizeAppearance","defaultRadioGroupAppearanceProvider","rgb","degrees","PDFName","PDFHexString","PDFDict","PDFAcroRadioButton","AcroButtonFlags","assertIs","assertOrUndefined","assertIsOneOf","PDFRadioGroup","_super","acroRadioButton","ref","doc","_this","call","acroField","prototype","getOptions","exportValues","getExportValues","exportOptions","Array","length","idx","len","decodeText","onValues","getOnValues","onOptions","getSelected","value","getValue","of","undefined","select","option","validOptions","markAsDirty","setValue","clear","isOffToggleable","hasFlag","NoToggleToOff","enableOffToggling","setFlagTo","disableOffToggling","isMutuallyExclusive","RadiosInUnison","enableMutualExclusion","disableMutualExclusion","addOptionToPage","page","options","_a","_b","_c","_d","_e","_f","_g","_h","_j","widget","createWidget","x","y","width","height","textColor","backgroundColor","borderColor","borderWidth","rotate","hidden","widgetRef","context","register","dict","apStateValue","addWidgetWithOpt","fromText","setAppearanceState","updateWidgetAppearance","node","addAnnot","needsAppearancesUpdate","widgets","getWidgets","state","getAppearanceState","normal","getAppearances","has","defaultUpdateAppearances","updateAppearances","provider","Function","onValue","getOnValue","apProvider","appearances","updateOnOffWidgetAppearance"],"sources":["E:/PROA/frontPROA/node_modules/pdf-lib/es/api/form/PDFRadioGroup.js"],"sourcesContent":["import { __extends } from \"tslib\";\nimport PDFPage from \"../PDFPage\";\nimport PDFField, { assertFieldAppearanceOptions, } from \"./PDFField\";\nimport { normalizeAppearance, defaultRadioGroupAppearanceProvider, } from \"./appearances\";\nimport { rgb } from \"../colors\";\nimport { degrees } from \"../rotations\";\nimport { PDFName, PDFHexString, PDFDict, PDFAcroRadioButton, AcroButtonFlags, } from \"../../core\";\nimport { assertIs, assertOrUndefined, assertIsOneOf } from \"../../utils\";\n/**\n * Represents a radio group field of a [[PDFForm]].\n *\n * [[PDFRadioGroup]] fields are collections of radio buttons. The purpose of a\n * radio group is to enable users to select one option from a set of mutually\n * exclusive choices. Each choice in a radio group is represented by a radio\n * button. Radio buttons each have two states: `on` and `off`. At most one\n * radio button in a group may be in the `on` state at any time. Users can\n * click on a radio button to select it (and thereby automatically deselect any\n * other radio button that might have already been selected). Some radio\n * groups allow users to toggle a selected radio button `off` by clicking on\n * it (see [[PDFRadioGroup.isOffToggleable]]).\n *\n * Note that some radio groups allow multiple radio buttons to be in the `on`\n * state at the same type **if** they represent the same underlying value (see\n * [[PDFRadioGroup.isMutuallyExclusive]]).\n */\nvar PDFRadioGroup = /** @class */ (function (_super) {\n    __extends(PDFRadioGroup, _super);\n    function PDFRadioGroup(acroRadioButton, ref, doc) {\n        var _this = _super.call(this, acroRadioButton, ref, doc) || this;\n        assertIs(acroRadioButton, 'acroRadioButton', [\n            [PDFAcroRadioButton, 'PDFAcroRadioButton'],\n        ]);\n        _this.acroField = acroRadioButton;\n        return _this;\n    }\n    /**\n     * Get the list of available options for this radio group. Each option is\n     * represented by a radio button. These radio buttons are displayed at\n     * various locations in the document, potentially on different pages (though\n     * typically they are stacked horizontally or vertically on the same page).\n     * For example:\n     * ```js\n     * const radioGroup = form.getRadioGroup('some.radioGroup.field')\n     * const options = radioGroup.getOptions()\n     * console.log('Radio Group options:', options)\n     * ```\n     * @returns The options for this radio group.\n     */\n    PDFRadioGroup.prototype.getOptions = function () {\n        var exportValues = this.acroField.getExportValues();\n        if (exportValues) {\n            var exportOptions = new Array(exportValues.length);\n            for (var idx = 0, len = exportValues.length; idx < len; idx++) {\n                exportOptions[idx] = exportValues[idx].decodeText();\n            }\n            return exportOptions;\n        }\n        var onValues = this.acroField.getOnValues();\n        var onOptions = new Array(onValues.length);\n        for (var idx = 0, len = onOptions.length; idx < len; idx++) {\n            onOptions[idx] = onValues[idx].decodeText();\n        }\n        return onOptions;\n    };\n    /**\n     * Get the selected option for this radio group. The selected option is\n     * represented by the radio button in this group that is turned on. At most\n     * one radio button in a group can be selected. If no buttons in this group\n     * are selected, `undefined` is returned.\n     * For example:\n     * ```js\n     * const radioGroup = form.getRadioGroup('some.radioGroup.field')\n     * const selected = radioGroup.getSelected()\n     * console.log('Selected radio button:', selected)\n     * ```\n     * @returns The selected option for this radio group.\n     */\n    PDFRadioGroup.prototype.getSelected = function () {\n        var value = this.acroField.getValue();\n        if (value === PDFName.of('Off'))\n            return undefined;\n        var exportValues = this.acroField.getExportValues();\n        if (exportValues) {\n            var onValues = this.acroField.getOnValues();\n            for (var idx = 0, len = onValues.length; idx < len; idx++) {\n                if (onValues[idx] === value)\n                    return exportValues[idx].decodeText();\n            }\n        }\n        return value.decodeText();\n    };\n    // // TODO: Figure out why this seems to crash Acrobat. Maybe it's because we\n    // //       aren't removing the widget reference from the page's Annots?\n    // removeOption(option: string) {\n    //   assertIs(option, 'option', ['string']);\n    //   // TODO: Assert is valid `option`!\n    //   const onValues = this.acroField.getOnValues();\n    //   const exportValues = this.acroField.getExportValues();\n    //   if (exportValues) {\n    //     for (let idx = 0, len = exportValues.length; idx < len; idx++) {\n    //       if (exportValues[idx].decodeText() === option) {\n    //         this.acroField.removeWidget(idx);\n    //         this.acroField.removeExportValue(idx);\n    //       }\n    //     }\n    //   } else {\n    //     for (let idx = 0, len = onValues.length; idx < len; idx++) {\n    //       const value = onValues[idx];\n    //       if (value.decodeText() === option) {\n    //         this.acroField.removeWidget(idx);\n    //         this.acroField.removeExportValue(idx);\n    //       }\n    //     }\n    //   }\n    // }\n    /**\n     * Select an option for this radio group. This operation is analogous to a\n     * human user clicking one of the radio buttons in this group via a PDF\n     * reader to toggle it on. This method will update the underlying state of\n     * the radio group to indicate which option has been selected. PDF libraries\n     * and readers will be able to extract this value from the saved document and\n     * determine which option was selected.\n     *\n     * For example:\n     * ```js\n     * const radioGroup = form.getRadioGroup('best.superhero.radioGroup')\n     * radioGroup.select('One Punch Man')\n     * ```\n     *\n     * This method will mark this radio group as dirty, causing its appearance\n     * streams to be updated when either [[PDFDocument.save]] or\n     * [[PDFForm.updateFieldAppearances]] is called. The updated appearance\n     * streams will display a dot inside the widget of this check box field\n     * that represents the selected option.\n     *\n     * @param option The option to be selected.\n     */\n    PDFRadioGroup.prototype.select = function (option) {\n        assertIs(option, 'option', ['string']);\n        var validOptions = this.getOptions();\n        assertIsOneOf(option, 'option', validOptions);\n        this.markAsDirty();\n        var onValues = this.acroField.getOnValues();\n        var exportValues = this.acroField.getExportValues();\n        if (exportValues) {\n            for (var idx = 0, len = exportValues.length; idx < len; idx++) {\n                if (exportValues[idx].decodeText() === option) {\n                    this.acroField.setValue(onValues[idx]);\n                }\n            }\n        }\n        else {\n            for (var idx = 0, len = onValues.length; idx < len; idx++) {\n                var value = onValues[idx];\n                if (value.decodeText() === option)\n                    this.acroField.setValue(value);\n            }\n        }\n    };\n    /**\n     * Clear any selected option for this dropdown. This will result in all\n     * radio buttons in this group being toggled off. This method will update\n     * the underlying state of the dropdown to indicate that no radio buttons\n     * have been selected.\n     * For example:\n     * ```js\n     * const radioGroup = form.getRadioGroup('some.radioGroup.field')\n     * radioGroup.clear()\n     * ```\n     * This method will mark this radio group as dirty. See\n     * [[PDFRadioGroup.select]] for more details about what this means.\n     */\n    PDFRadioGroup.prototype.clear = function () {\n        this.markAsDirty();\n        this.acroField.setValue(PDFName.of('Off'));\n    };\n    /**\n     * Returns `true` if users can click on radio buttons in this group to toggle\n     * them off. The alternative is that once a user clicks on a radio button\n     * to select it, the only way to deselect it is by selecting on another radio\n     * button in the group. See [[PDFRadioGroup.enableOffToggling]] and\n     * [[PDFRadioGroup.disableOffToggling]]. For example:\n     * ```js\n     * const radioGroup = form.getRadioGroup('some.radioGroup.field')\n     * if (radioGroup.isOffToggleable()) console.log('Off toggling is enabled')\n     * ```\n     */\n    PDFRadioGroup.prototype.isOffToggleable = function () {\n        return !this.acroField.hasFlag(AcroButtonFlags.NoToggleToOff);\n    };\n    /**\n     * Allow users to click on selected radio buttons in this group to toggle\n     * them off. For example:\n     * ```js\n     * const radioGroup = form.getRadioGroup('some.radioGroup.field')\n     * radioGroup.enableOffToggling()\n     * ```\n     * > **NOTE:** This feature is documented in the PDF specification\n     * > (Table 226). However, most PDF readers do not respect this option and\n     * > prevent users from toggling radio buttons off even when it is enabled.\n     * > At the time of this writing (9/6/2020) Mac's Preview software did\n     * > respect the option. Adobe Acrobat, Foxit Reader, and Google Chrome did\n     * > not.\n     */\n    PDFRadioGroup.prototype.enableOffToggling = function () {\n        this.acroField.setFlagTo(AcroButtonFlags.NoToggleToOff, false);\n    };\n    /**\n     * Prevent users from clicking on selected radio buttons in this group to\n     * toggle them off. Clicking on a selected radio button will have no effect.\n     * The only way to deselect a selected radio button is to click on a\n     * different radio button in the group. For example:\n     * ```js\n     * const radioGroup = form.getRadioGroup('some.radioGroup.field')\n     * radioGroup.disableOffToggling()\n     * ```\n     */\n    PDFRadioGroup.prototype.disableOffToggling = function () {\n        this.acroField.setFlagTo(AcroButtonFlags.NoToggleToOff, true);\n    };\n    /**\n     * Returns `true` if the radio buttons in this group are mutually exclusive.\n     * This means that when the user selects a radio button, only that specific\n     * button will be turned on. Even if other radio buttons in the group\n     * represent the same value, they will not be enabled. The alternative to\n     * this is that clicking a radio button will select that button along with\n     * any other radio buttons in the group that share the same value. See\n     * [[PDFRadioGroup.enableMutualExclusion]] and\n     * [[PDFRadioGroup.disableMutualExclusion]].\n     * For example:\n     * ```js\n     * const radioGroup = form.getRadioGroup('some.radioGroup.field')\n     * if (radioGroup.isMutuallyExclusive()) console.log('Mutual exclusion is enabled')\n     * ```\n     */\n    PDFRadioGroup.prototype.isMutuallyExclusive = function () {\n        return !this.acroField.hasFlag(AcroButtonFlags.RadiosInUnison);\n    };\n    /**\n     * When the user clicks a radio button in this group it will be selected. In\n     * addition, any other radio buttons in this group that share the same\n     * underlying value will also be selected. For example:\n     * ```js\n     * const radioGroup = form.getRadioGroup('some.radioGroup.field')\n     * radioGroup.enableMutualExclusion()\n     * ```\n     * Note that this option must be enabled prior to adding options to the\n     * radio group. It does not currently apply retroactively to existing\n     * radio buttons in the group.\n     */\n    PDFRadioGroup.prototype.enableMutualExclusion = function () {\n        this.acroField.setFlagTo(AcroButtonFlags.RadiosInUnison, false);\n    };\n    /**\n     * When the user clicks a radio button in this group only it will be selected.\n     * No other radio buttons in the group will be selected, even if they share\n     * the same underlying value. For example:\n     * ```js\n     * const radioGroup = form.getRadioGroup('some.radioGroup.field')\n     * radioGroup.disableMutualExclusion()\n     * ```\n     * Note that this option must be disabled prior to adding options to the\n     * radio group. It does not currently apply retroactively to existing\n     * radio buttons in the group.\n     */\n    PDFRadioGroup.prototype.disableMutualExclusion = function () {\n        this.acroField.setFlagTo(AcroButtonFlags.RadiosInUnison, true);\n    };\n    /**\n     * Add a new radio button to this group on the specified page. For example:\n     * ```js\n     * const page = pdfDoc.addPage()\n     *\n     * const form = pdfDoc.getForm()\n     * const radioGroup = form.createRadioGroup('best.gundam')\n     *\n     * const options = {\n     *   x: 50,\n     *   width: 25,\n     *   height: 25,\n     *   textColor: rgb(1, 0, 0),\n     *   backgroundColor: rgb(0, 1, 0),\n     *   borderColor: rgb(0, 0, 1),\n     *   borderWidth: 2,\n     *   rotate: degrees(90),\n     * }\n     *\n     * radioGroup.addOptionToPage('Exia', page, { ...options, y: 50 })\n     * radioGroup.addOptionToPage('Dynames', page, { ...options, y: 110 })\n     * ```\n     * This will create a new radio button widget for this radio group field.\n     * @param option The option that the radio button widget represents.\n     * @param page The page to which the radio button widget should be added.\n     * @param options The options to be used when adding the radio button widget.\n     */\n    PDFRadioGroup.prototype.addOptionToPage = function (option, page, options) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n        assertIs(option, 'option', ['string']);\n        assertIs(page, 'page', [[PDFPage, 'PDFPage']]);\n        assertFieldAppearanceOptions(options);\n        // Create a widget for this radio button\n        var widget = this.createWidget({\n            x: (_a = options === null || options === void 0 ? void 0 : options.x) !== null && _a !== void 0 ? _a : 0,\n            y: (_b = options === null || options === void 0 ? void 0 : options.y) !== null && _b !== void 0 ? _b : 0,\n            width: (_c = options === null || options === void 0 ? void 0 : options.width) !== null && _c !== void 0 ? _c : 50,\n            height: (_d = options === null || options === void 0 ? void 0 : options.height) !== null && _d !== void 0 ? _d : 50,\n            textColor: (_e = options === null || options === void 0 ? void 0 : options.textColor) !== null && _e !== void 0 ? _e : rgb(0, 0, 0),\n            backgroundColor: (_f = options === null || options === void 0 ? void 0 : options.backgroundColor) !== null && _f !== void 0 ? _f : rgb(1, 1, 1),\n            borderColor: (_g = options === null || options === void 0 ? void 0 : options.borderColor) !== null && _g !== void 0 ? _g : rgb(0, 0, 0),\n            borderWidth: (_h = options === null || options === void 0 ? void 0 : options.borderWidth) !== null && _h !== void 0 ? _h : 1,\n            rotate: (_j = options === null || options === void 0 ? void 0 : options.rotate) !== null && _j !== void 0 ? _j : degrees(0),\n            hidden: options === null || options === void 0 ? void 0 : options.hidden,\n            page: page.ref,\n        });\n        var widgetRef = this.doc.context.register(widget.dict);\n        // Add widget to this field\n        var apStateValue = this.acroField.addWidgetWithOpt(widgetRef, PDFHexString.fromText(option), !this.isMutuallyExclusive());\n        // Set appearance streams for widget\n        widget.setAppearanceState(PDFName.of('Off'));\n        this.updateWidgetAppearance(widget, apStateValue);\n        // Add widget to the given page\n        page.node.addAnnot(widgetRef);\n    };\n    /**\n     * Returns `true` if any of this group's radio button widgets do not have an\n     * appearance stream for their current state. For example:\n     * ```js\n     * const radioGroup = form.getRadioGroup('some.radioGroup.field')\n     * if (radioGroup.needsAppearancesUpdate()) console.log('Needs update')\n     * ```\n     * @returns Whether or not this radio group needs an appearance update.\n     */\n    PDFRadioGroup.prototype.needsAppearancesUpdate = function () {\n        var _a;\n        var widgets = this.acroField.getWidgets();\n        for (var idx = 0, len = widgets.length; idx < len; idx++) {\n            var widget = widgets[idx];\n            var state = widget.getAppearanceState();\n            var normal = (_a = widget.getAppearances()) === null || _a === void 0 ? void 0 : _a.normal;\n            if (!(normal instanceof PDFDict))\n                return true;\n            if (state && !normal.has(state))\n                return true;\n        }\n        return false;\n    };\n    /**\n     * Update the appearance streams for each of this group's radio button widgets\n     * using the default appearance provider for radio groups. For example:\n     * ```js\n     * const radioGroup = form.getRadioGroup('some.radioGroup.field')\n     * radioGroup.defaultUpdateAppearances()\n     * ```\n     */\n    PDFRadioGroup.prototype.defaultUpdateAppearances = function () {\n        this.updateAppearances();\n    };\n    // rg.updateAppearances((field: any, widget: any) => {\n    //   assert(field === rg);\n    //   assert(widget instanceof PDFWidgetAnnotation);\n    //   return { on: [...rectangle, ...circle], off: [...rectangle, ...circle] };\n    // });\n    /**\n     * Update the appearance streams for each of this group's radio button widgets\n     * using the given appearance provider. If no `provider` is passed, the\n     * default appearance provider for radio groups will be used. For example:\n     * ```js\n     * const radioGroup = form.getRadioGroup('some.radioGroup.field')\n     * radioGroup.updateAppearances((field, widget) => {\n     *   ...\n     *   return {\n     *     normal: { on: drawRadioButton(...), off: drawRadioButton(...) },\n     *     down: { on: drawRadioButton(...), off: drawRadioButton(...) },\n     *   }\n     * })\n     * ```\n     * @param provider Optionally, the appearance provider to be used for\n     *                 generating the contents of the appearance streams.\n     */\n    PDFRadioGroup.prototype.updateAppearances = function (provider) {\n        assertOrUndefined(provider, 'provider', [Function]);\n        var widgets = this.acroField.getWidgets();\n        for (var idx = 0, len = widgets.length; idx < len; idx++) {\n            var widget = widgets[idx];\n            var onValue = widget.getOnValue();\n            if (!onValue)\n                continue;\n            this.updateWidgetAppearance(widget, onValue, provider);\n        }\n    };\n    PDFRadioGroup.prototype.updateWidgetAppearance = function (widget, onValue, provider) {\n        var apProvider = provider !== null && provider !== void 0 ? provider : defaultRadioGroupAppearanceProvider;\n        var appearances = normalizeAppearance(apProvider(this, widget));\n        this.updateOnOffWidgetAppearance(widget, onValue, appearances);\n    };\n    /**\n     * > **NOTE:** You probably don't want to call this method directly. Instead,\n     * > consider using the [[PDFForm.getOptionList]] method, which will create an\n     * > instance of [[PDFOptionList]] for you.\n     *\n     * Create an instance of [[PDFOptionList]] from an existing acroRadioButton\n     * and ref\n     *\n     * @param acroRadioButton The underlying `PDFAcroRadioButton` for this\n     *                        radio group.\n     * @param ref The unique reference for this radio group.\n     * @param doc The document to which this radio group will belong.\n     */\n    PDFRadioGroup.of = function (acroRadioButton, ref, doc) { return new PDFRadioGroup(acroRadioButton, ref, doc); };\n    return PDFRadioGroup;\n}(PDFField));\nexport default PDFRadioGroup;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { Notafiscal } from '../model/notafiscal';\nimport { Embarcacao } from '../model/embarcacao';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/front-notafiscal.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../services/front-embarcacao.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"../safe-url.pipe\";\nfunction NotafiscalComponent_div_11_iframe_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"iframe\", 12);\n    i0.ɵɵpipe(1, \"safeUrl\");\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"src\", i0.ɵɵpipeBind1(1, 1, ctx_r3.notaFiscal.pdfPath), i0.ɵɵsanitizeResourceUrl);\n  }\n}\nfunction NotafiscalComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"h3\");\n    i0.ɵɵtext(2, \"Nota Fiscal\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"table\", 9)(4, \"thead\")(5, \"tr\")(6, \"th\");\n    i0.ɵɵtext(7, \"ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"CNPJ Vendedor\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11, \"Raz\\u00E3o Social\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\");\n    i0.ɵɵtext(13, \"Data de Venda\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\");\n    i0.ɵɵtext(15, \"Local\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"th\");\n    i0.ɵɵtext(17, \"N\\u00FAmero da Nota Fiscal\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"th\");\n    i0.ɵɵtext(19, \"A\\u00E7\\u00F5es\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(20, \"tbody\")(21, \"tr\")(22, \"td\");\n    i0.ɵɵtext(23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"td\");\n    i0.ɵɵtext(25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"td\");\n    i0.ɵɵtext(27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"td\");\n    i0.ɵɵtext(29);\n    i0.ɵɵpipe(30, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"td\");\n    i0.ɵɵtext(32);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"td\");\n    i0.ɵɵtext(34);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"td\")(36, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function NotafiscalComponent_div_11_Template_button_click_36_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.excluirNotaFiscal());\n    });\n    i0.ɵɵtext(37, \"Excluir Nota\");\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(38, \"h4\");\n    i0.ɵɵtext(39, \"Visualizar PDF\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(40, NotafiscalComponent_div_11_iframe_40_Template, 2, 3, \"iframe\", 11);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(23);\n    i0.ɵɵtextInterpolate(ctx_r0.notaFiscal.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.notaFiscal.cnpjvendedor);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.notaFiscal.razaoSocial);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(30, 7, ctx_r0.notaFiscal.dtVenda, \"dd/MM/yyyy\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.notaFiscal.local);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.notaFiscal.numeroNotaFiscal);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.notaFiscal.pdfPath);\n  }\n}\nfunction NotafiscalComponent_ng_template_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"h3\", 1);\n    i0.ɵɵtext(1, \"Cadastrar Nova Nota Fiscal\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"form\", 13);\n    i0.ɵɵlistener(\"ngSubmit\", function NotafiscalComponent_ng_template_12_Template_form_ngSubmit_2_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.salvarNotaFiscal());\n    });\n    i0.ɵɵelementStart(3, \"div\", 2)(4, \"label\", 14);\n    i0.ɵɵtext(5, \"CNPJ Vendedor:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"input\", 15);\n    i0.ɵɵlistener(\"ngModelChange\", function NotafiscalComponent_ng_template_12_Template_input_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.novaNotaFiscal.cnpjvendedor = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 2)(8, \"label\", 16);\n    i0.ɵɵtext(9, \"Raz\\u00E3o Social:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"input\", 17);\n    i0.ɵɵlistener(\"ngModelChange\", function NotafiscalComponent_ng_template_12_Template_input_ngModelChange_10_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.novaNotaFiscal.razaoSocial = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 2)(12, \"label\", 18);\n    i0.ɵɵtext(13, \"Data de Venda:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"input\", 19);\n    i0.ɵɵlistener(\"ngModelChange\", function NotafiscalComponent_ng_template_12_Template_input_ngModelChange_14_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.novaNotaFiscal.dtVenda = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 2)(16, \"label\", 20);\n    i0.ɵɵtext(17, \"Local:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"input\", 21);\n    i0.ɵɵlistener(\"ngModelChange\", function NotafiscalComponent_ng_template_12_Template_input_ngModelChange_18_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.novaNotaFiscal.local = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"div\", 2)(20, \"label\", 22);\n    i0.ɵɵtext(21, \"N\\u00FAmero da Nota Fiscal:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"input\", 23);\n    i0.ɵɵlistener(\"ngModelChange\", function NotafiscalComponent_ng_template_12_Template_input_ngModelChange_22_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.novaNotaFiscal.numeroNotaFiscal = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(23, \"div\", 2)(24, \"label\", 24);\n    i0.ɵɵtext(25, \"Upload Nota Fiscal (PDF):\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"input\", 25);\n    i0.ɵɵlistener(\"change\", function NotafiscalComponent_ng_template_12_Template_input_change_26_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.onFileSelected($event));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(27, \"div\", 1)(28, \"button\", 26);\n    i0.ɵɵtext(29, \"Salvar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"button\", 27);\n    i0.ɵɵlistener(\"click\", function NotafiscalComponent_ng_template_12_Template_button_click_30_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.cancelar());\n    });\n    i0.ɵɵtext(31, \"Cancelar\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.novaNotaFiscal.cnpjvendedor);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.novaNotaFiscal.razaoSocial);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.novaNotaFiscal.dtVenda);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.novaNotaFiscal.local);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.novaNotaFiscal.numeroNotaFiscal);\n  }\n}\nexport class NotafiscalComponent {\n  constructor(notaFiscalService, router, route, embarcacaoService) {\n    this.notaFiscalService = notaFiscalService;\n    this.router = router;\n    this.route = route;\n    this.embarcacaoService = embarcacaoService;\n    this.embarcacao = new Embarcacao();\n    this.notaFiscal = null;\n    this.novaNotaFiscal = new Notafiscal();\n    this.selectedFile = null;\n  }\n  ngOnInit() {\n    this.idEmbarcacao = this.route.snapshot.params['id'];\n    this.embarcacaoService.consultarEmbarcacao(this.idEmbarcacao).subscribe(data => {\n      this.embarcacao = data;\n    });\n    this.listarNotaFiscal();\n  }\n  listarNotaFiscal() {\n    this.notaFiscalService.listarNotaFiscalPorEmbarcacao(this.idEmbarcacao).subscribe(notasFiscais => {\n      if (notasFiscais.length > 0) {\n        this.notaFiscal = notasFiscais[0];\n        this.loadNotaFiscalPDF();\n      } else {\n        this.notaFiscal = null;\n      }\n    }, error => {\n      console.error('Erro ao listar notas fiscais:', error);\n    });\n  }\n  loadNotaFiscalPDF() {\n    if (this.notaFiscal) {\n      this.notaFiscalService.getNotaFiscalPDF(this.notaFiscal.id).subscribe(pdf => {\n        const url = URL.createObjectURL(pdf);\n        const iframe = document.querySelector('iframe');\n        iframe.src = url;\n      }, error => {\n        console.error('Erro ao carregar PDF:', error);\n      });\n    }\n  }\n  excluirNotaFiscal() {\n    if (this.notaFiscal) {\n      this.notaFiscalService.excluirNotaFiscal(this.notaFiscal.id).subscribe(() => {\n        this.notaFiscal = null;\n      }, error => {\n        console.error('Erro ao excluir nota fiscal:', error);\n      });\n    }\n  }\n  onFileSelected(event) {\n    this.selectedFile = event.target.files[0];\n  }\n  salvarNotaFiscal() {\n    if (this.selectedFile && this.notaFiscal) {\n      this.notaFiscalService.uploadNotaFiscalPDF(this.notaFiscal.id, this.selectedFile).subscribe(() => {\n        this.loadNotaFiscalPDF();\n      }, error => {\n        console.error('Erro ao fazer upload do PDF:', error);\n      });\n    } else {\n      this.novaNotaFiscal.embarcacao = this.embarcacao;\n      this.notaFiscalService.incluirNotaFiscal(this.novaNotaFiscal).subscribe(nota => {\n        this.notaFiscal = nota;\n        if (this.selectedFile) {\n          this.salvarNotaFiscal(); // Recur para upload do PDF após salvar a Nota Fiscal\n        } else {\n          this.listarNotaFiscal();\n        }\n      }, error => {\n        console.error('Erro ao incluir nota fiscal:', error);\n      });\n    }\n  }\n  cancelar() {\n    this.router.navigate(['/embarcacao/listarembarcacao']);\n  }\n  static #_ = this.ɵfac = function NotafiscalComponent_Factory(t) {\n    return new (t || NotafiscalComponent)(i0.ɵɵdirectiveInject(i1.FrontNotafiscalService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.FrontEmbarcacaoService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: NotafiscalComponent,\n    selectors: [[\"app-notafiscal\"]],\n    decls: 14,\n    vars: 4,\n    consts: [[1, \"container\", \"mt-4\", \"scrollable-content\"], [1, \"text-center\"], [1, \"form-group\"], [\"for\", \"cliente\"], [\"type\", \"text\", \"id\", \"cliente\", \"readonly\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"embarcacao\"], [\"type\", \"text\", \"id\", \"embarcacao\", \"readonly\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [4, \"ngIf\", \"ngIfElse\"], [\"cadastrarNotaFiscal\", \"\"], [1, \"table\", \"table-striped\"], [1, \"btn\", \"btn-danger\", 3, \"click\"], [\"width\", \"100%\", \"height\", \"500px\", 3, \"src\", 4, \"ngIf\"], [\"width\", \"100%\", \"height\", \"500px\", 3, \"src\"], [3, \"ngSubmit\"], [\"for\", \"CNPJVendedor\"], [\"type\", \"text\", \"id\", \"CNPJVendedor\", \"name\", \"CNPJVendedor\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"razaoSocial\"], [\"type\", \"text\", \"id\", \"razaoSocial\", \"name\", \"razaoSocial\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"dtVenda\"], [\"type\", \"date\", \"id\", \"dtVenda\", \"name\", \"dtVenda\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"Local\"], [\"type\", \"text\", \"id\", \"Local\", \"name\", \"Local\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"numeroNotaFiscal\"], [\"type\", \"text\", \"id\", \"numeroNotaFiscal\", \"name\", \"numeroNotaFiscal\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"file\"], [\"type\", \"file\", \"id\", \"file\", \"required\", \"\", 1, \"form-control\", 3, \"change\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 2, \"margin\", \"10px\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", 2, \"margin\", \"10px\", 3, \"click\"]],\n    template: function NotafiscalComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n        i0.ɵɵtext(2, \"Nota Fiscal da Embarca\\u00E7\\u00E3o\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 2)(4, \"label\", 3);\n        i0.ɵɵtext(5, \"Nome do Cliente:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"input\", 4);\n        i0.ɵɵlistener(\"ngModelChange\", function NotafiscalComponent_Template_input_ngModelChange_6_listener($event) {\n          return ctx.embarcacao.cliente.nome = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(7, \"div\", 2)(8, \"label\", 5);\n        i0.ɵɵtext(9, \"Nome da Embarca\\u00E7\\u00E3o:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"input\", 6);\n        i0.ɵɵlistener(\"ngModelChange\", function NotafiscalComponent_Template_input_ngModelChange_10_listener($event) {\n          return ctx.embarcacao.nomeEmbarcacao = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(11, NotafiscalComponent_div_11_Template, 41, 10, \"div\", 7);\n        i0.ɵɵtemplate(12, NotafiscalComponent_ng_template_12_Template, 32, 5, \"ng-template\", null, 8, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        const _r1 = i0.ɵɵreference(13);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.embarcacao.cliente.nome);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.embarcacao.nomeEmbarcacao);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.notaFiscal)(\"ngIfElse\", _r1);\n      }\n    },\n    dependencies: [i4.NgIf, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.NgModel, i5.NgForm, i4.DatePipe, i6.SafeUrlPipe],\n    styles: [\".scrollable-content[_ngcontent-%COMP%] {\\n    max-height: 80vh; \\n\\n    overflow-y: auto; \\n\\n    padding-right: 15px; \\n\\n    margin-bottom: 20px; \\n\\n}\\n\\n\\n\\n.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar {\\n    width: 8px; \\n\\n}\\n\\n.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb {\\n    background-color: darkgray; \\n\\n    border-radius: 10px; \\n\\n}\\n\\n.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar-track {\\n    background: #f1f1f1; \\n\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbm90YWZpc2NhbC9ub3RhZmlzY2FsLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxnQkFBZ0IsRUFBRSwwREFBMEQ7SUFDNUUsZ0JBQWdCLEVBQUUsK0NBQStDO0lBQ2pFLG1CQUFtQixFQUFFLHVFQUF1RTtJQUM1RixtQkFBbUIsRUFBRSx5Q0FBeUM7QUFDbEU7O0FBRUEsaUdBQWlHO0FBQ2pHO0lBQ0ksVUFBVSxFQUFFLGdDQUFnQztBQUNoRDs7QUFFQTtJQUNJLDBCQUEwQixFQUFFLDRCQUE0QjtJQUN4RCxtQkFBbUIsRUFBRSx3QkFBd0I7QUFDakQ7O0FBRUE7SUFDSSxtQkFBbUIsRUFBRSxxQ0FBcUM7QUFDOUQiLCJzb3VyY2VzQ29udGVudCI6WyIuc2Nyb2xsYWJsZS1jb250ZW50IHtcclxuICAgIG1heC1oZWlnaHQ6IDgwdmg7IC8qIERlZmluZSBhIGFsdHVyYSBtw4PCoXhpbWEgY29tbyA4MCUgZGEgYWx0dXJhIGRhIHZpZXdwb3J0ICovXHJcbiAgICBvdmVyZmxvdy15OiBhdXRvOyAvKiBQZXJtaXRlIHJvbGFnZW0gdmVydGljYWwgcXVhbmRvIG5lY2Vzc8ODwqFyaW8gKi9cclxuICAgIHBhZGRpbmctcmlnaHQ6IDE1cHg7IC8qIEFqdXN0ZSBwYXJhIGV2aXRhciBxdWUgbyBjb250ZcODwrpkbyBmaXF1ZSBlbmNvc3RhZG8gbmEgYm9yZGEgZGlyZWl0YSAqL1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMjBweDsgLyogQWRpY2lvbmEgdW0gZXNwYcODwqdvIG5hIHBhcnRlIGluZmVyaW9yICovXHJcbn1cclxuXHJcbi8qIE9wY2lvbmFsOiBBZGljaW9uYSB1bSBlc3RpbG8gcGFyYSBhIGJhcnJhIGRlIHJvbGFnZW0gKHBvZGUgdmFyaWFyIGRlIGFjb3JkbyBjb20gbyBuYXZlZ2Fkb3IpICovXHJcbi5zY3JvbGxhYmxlLWNvbnRlbnQ6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcclxuICAgIHdpZHRoOiA4cHg7IC8qIExhcmd1cmEgZGEgYmFycmEgZGUgcm9sYWdlbSAqL1xyXG59XHJcblxyXG4uc2Nyb2xsYWJsZS1jb250ZW50Ojotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBkYXJrZ3JheTsgLyogQ29yIGRhIGJhcnJhIGRlIHJvbGFnZW0gKi9cclxuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7IC8qIEJvcmRhcyBhcnJlZG9uZGFkYXMgKi9cclxufVxyXG5cclxuLnNjcm9sbGFibGUtY29udGVudDo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sge1xyXG4gICAgYmFja2dyb3VuZDogI2YxZjFmMTsgLyogQ29yIGRvIGZ1bmRvIGRhIGJhcnJhIGRlIHJvbGFnZW0gKi9cclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"names":["Notafiscal","Embarcacao","i0","ɵɵelement","ɵɵproperty","ɵɵpipeBind1","ctx_r3","notaFiscal","pdfPath","ɵɵsanitizeResourceUrl","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","NotafiscalComponent_div_11_Template_button_click_36_listener","ɵɵrestoreView","_r5","ctx_r4","ɵɵnextContext","ɵɵresetView","excluirNotaFiscal","ɵɵtemplate","NotafiscalComponent_div_11_iframe_40_Template","ɵɵadvance","ɵɵtextInterpolate","ctx_r0","id","cnpjvendedor","razaoSocial","ɵɵpipeBind2","dtVenda","local","numeroNotaFiscal","NotafiscalComponent_ng_template_12_Template_form_ngSubmit_2_listener","_r7","ctx_r6","salvarNotaFiscal","NotafiscalComponent_ng_template_12_Template_input_ngModelChange_6_listener","$event","ctx_r8","novaNotaFiscal","NotafiscalComponent_ng_template_12_Template_input_ngModelChange_10_listener","ctx_r9","NotafiscalComponent_ng_template_12_Template_input_ngModelChange_14_listener","ctx_r10","NotafiscalComponent_ng_template_12_Template_input_ngModelChange_18_listener","ctx_r11","NotafiscalComponent_ng_template_12_Template_input_ngModelChange_22_listener","ctx_r12","NotafiscalComponent_ng_template_12_Template_input_change_26_listener","ctx_r13","onFileSelected","NotafiscalComponent_ng_template_12_Template_button_click_30_listener","ctx_r14","cancelar","ctx_r2","NotafiscalComponent","constructor","notaFiscalService","router","route","embarcacaoService","embarcacao","selectedFile","ngOnInit","idEmbarcacao","snapshot","params","consultarEmbarcacao","subscribe","data","listarNotaFiscal","listarNotaFiscalPorEmbarcacao","notasFiscais","length","loadNotaFiscalPDF","error","console","getNotaFiscalPDF","pdf","url","URL","createObjectURL","iframe","document","querySelector","src","event","target","files","uploadNotaFiscalPDF","incluirNotaFiscal","nota","navigate","_","ɵɵdirectiveInject","i1","FrontNotafiscalService","i2","Router","ActivatedRoute","i3","FrontEmbarcacaoService","_2","selectors","decls","vars","consts","template","NotafiscalComponent_Template","rf","ctx","NotafiscalComponent_Template_input_ngModelChange_6_listener","cliente","nome","NotafiscalComponent_Template_input_ngModelChange_10_listener","nomeEmbarcacao","NotafiscalComponent_div_11_Template","NotafiscalComponent_ng_template_12_Template","ɵɵtemplateRefExtractor","_r1"],"sources":["E:\\PROA\\frontPROA\\src\\app\\notafiscal\\notafiscal.component.ts","E:\\PROA\\frontPROA\\src\\app\\notafiscal\\notafiscal.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FrontNotafiscalService } from '../services/front-notafiscal.service';\r\nimport { Notafiscal } from '../model/notafiscal';\r\nimport { Embarcacao } from '../model/embarcacao';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { FrontEmbarcacaoService } from '../services/front-embarcacao.service';\r\n\r\n@Component({\r\n  selector: 'app-notafiscal',\r\n  templateUrl: './notafiscal.component.html',\r\n  styleUrls: ['./notafiscal.component.css']\r\n})\r\nexport class NotafiscalComponent implements OnInit {\r\n  embarcacao: Embarcacao = new Embarcacao();\r\n  idEmbarcacao!: number;\r\n  notaFiscal: Notafiscal | null = null;\r\n  novaNotaFiscal: Notafiscal = new Notafiscal();\r\n  selectedFile: File | null = null;\r\n\r\n  constructor(\r\n    private notaFiscalService: FrontNotafiscalService,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private embarcacaoService: FrontEmbarcacaoService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.idEmbarcacao = this.route.snapshot.params['id'];\r\n\r\n    this.embarcacaoService.consultarEmbarcacao(this.idEmbarcacao).subscribe(data => {\r\n      this.embarcacao = data;\r\n    });\r\n    this.listarNotaFiscal();\r\n  }\r\n\r\n  listarNotaFiscal(): void {\r\n    this.notaFiscalService.listarNotaFiscalPorEmbarcacao(this.idEmbarcacao).subscribe(notasFiscais => {\r\n        if (notasFiscais.length > 0) {\r\n          this.notaFiscal = notasFiscais[0];\r\n          this.loadNotaFiscalPDF();\r\n        } else {\r\n          this.notaFiscal = null;\r\n        }\r\n      },\r\n      error => {\r\n        console.error('Erro ao listar notas fiscais:', error);\r\n      }\r\n    );\r\n  }\r\n\r\n  loadNotaFiscalPDF(): void {\r\n    if (this.notaFiscal) {\r\n      this.notaFiscalService.getNotaFiscalPDF(this.notaFiscal.id).subscribe(pdf => {\r\n        const url = URL.createObjectURL(pdf);\r\n        const iframe = document.querySelector('iframe') as HTMLIFrameElement;\r\n        iframe.src = url;\r\n      }, error => {\r\n        console.error('Erro ao carregar PDF:', error);\r\n      });\r\n    }\r\n  }\r\n\r\n  excluirNotaFiscal(): void {\r\n    if (this.notaFiscal) {\r\n      this.notaFiscalService.excluirNotaFiscal(this.notaFiscal.id).subscribe(\r\n        () => {\r\n          this.notaFiscal = null;\r\n        },\r\n        error => {\r\n          console.error('Erro ao excluir nota fiscal:', error);\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  onFileSelected(event: any): void {\r\n    this.selectedFile = event.target.files[0];\r\n  }\r\n\r\n  salvarNotaFiscal(): void {\r\n    if (this.selectedFile && this.notaFiscal) {\r\n      this.notaFiscalService.uploadNotaFiscalPDF(this.notaFiscal.id, this.selectedFile).subscribe(\r\n        () => {\r\n          this.loadNotaFiscalPDF();\r\n        },\r\n        error => {\r\n          console.error('Erro ao fazer upload do PDF:', error);\r\n        }\r\n      );\r\n    } else {\r\n      this.novaNotaFiscal.embarcacao = this.embarcacao;\r\n      this.notaFiscalService.incluirNotaFiscal(this.novaNotaFiscal).subscribe(\r\n        nota => {\r\n          this.notaFiscal = nota as Notafiscal;\r\n          if (this.selectedFile) {\r\n            this.salvarNotaFiscal();  // Recur para upload do PDF após salvar a Nota Fiscal\r\n          } else {\r\n            this.listarNotaFiscal();\r\n          }\r\n        },\r\n        error => {\r\n          console.error('Erro ao incluir nota fiscal:', error);\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  cancelar(): void {\r\n    this.router.navigate(['/embarcacao/listarembarcacao']);\r\n  }\r\n}","<div class=\"container mt-4 scrollable-content\">\r\n  <h2 class=\"text-center\">Nota Fiscal da Embarcação</h2>\r\n  \r\n  <div class=\"form-group\">\r\n    <label for=\"cliente\">Nome do Cliente:</label>\r\n    <input type=\"text\" id=\"cliente\" class=\"form-control\" [(ngModel)]=\"embarcacao.cliente.nome\" readonly>\r\n  </div>\r\n  \r\n  <div class=\"form-group\">\r\n    <label for=\"embarcacao\">Nome da Embarcação:</label>\r\n    <input type=\"text\" id=\"embarcacao\" class=\"form-control\" [(ngModel)]=\"embarcacao.nomeEmbarcacao\" readonly>\r\n  </div>\r\n\r\n  <div *ngIf=\"notaFiscal; else cadastrarNotaFiscal\">\r\n    <h3>Nota Fiscal</h3>\r\n    <table class=\"table table-striped\">\r\n      <thead>\r\n        <tr>\r\n          <th>ID</th>\r\n          <th>CNPJ Vendedor</th>\r\n          <th>Razão Social</th>\r\n          <th>Data de Venda</th>\r\n          <th>Local</th>\r\n          <th>Número da Nota Fiscal</th>\r\n          <th>Ações</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr>\r\n          <td>{{ notaFiscal.id }}</td>\r\n          <td>{{ notaFiscal.cnpjvendedor }}</td>\r\n          <td>{{ notaFiscal.razaoSocial }}</td>\r\n          <td>{{ notaFiscal.dtVenda | date:'dd/MM/yyyy' }}</td>\r\n          <td>{{ notaFiscal.local }}</td>\r\n          <td>{{ notaFiscal.numeroNotaFiscal }}</td>\r\n          <td>\r\n            <button (click)=\"excluirNotaFiscal()\" class=\"btn btn-danger\">Excluir Nota</button>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n\r\n    <h4>Visualizar PDF</h4>\r\n    <iframe *ngIf=\"notaFiscal.pdfPath\" [src]=\"notaFiscal.pdfPath | safeUrl\" width=\"100%\" height=\"500px\"></iframe>\r\n  </div>\r\n\r\n  <ng-template #cadastrarNotaFiscal>\r\n    <h3 class=\"text-center\">Cadastrar Nova Nota Fiscal</h3>\r\n    <form (ngSubmit)=\"salvarNotaFiscal()\">\r\n      <div class=\"form-group\">\r\n        <label for=\"CNPJVendedor\">CNPJ Vendedor:</label>\r\n        <input type=\"text\" id=\"CNPJVendedor\" class=\"form-control\" [(ngModel)]=\"novaNotaFiscal.cnpjvendedor\" name=\"CNPJVendedor\" required>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"razaoSocial\">Razão Social:</label>\r\n        <input type=\"text\" id=\"razaoSocial\" class=\"form-control\" [(ngModel)]=\"novaNotaFiscal.razaoSocial\" name=\"razaoSocial\" required>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"dtVenda\">Data de Venda:</label>\r\n        <input type=\"date\" id=\"dtVenda\" class=\"form-control\" [(ngModel)]=\"novaNotaFiscal.dtVenda\" name=\"dtVenda\" required>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"Local\">Local:</label>\r\n        <input type=\"text\" id=\"Local\" class=\"form-control\" [(ngModel)]=\"novaNotaFiscal.local\" name=\"Local\" required>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"numeroNotaFiscal\">Número da Nota Fiscal:</label>\r\n        <input type=\"text\" id=\"numeroNotaFiscal\" class=\"form-control\" [(ngModel)]=\"novaNotaFiscal.numeroNotaFiscal\" name=\"numeroNotaFiscal\" required>\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <label for=\"file\">Upload Nota Fiscal (PDF):</label>\r\n        <input type=\"file\" id=\"file\" (change)=\"onFileSelected($event)\" class=\"form-control\" required>\r\n      </div>\r\n\r\n      <div class=\"text-center\">\r\n        <button type=\"submit\" class=\"btn btn-primary\" style=\"margin: 10px;\">Salvar</button>\r\n        <button type=\"button\" (click)=\"cancelar()\" class=\"btn btn-secondary\" style=\"margin: 10px;\">Cancelar</button>\r\n      </div>\r\n    </form>\r\n  </ng-template>\r\n</div>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
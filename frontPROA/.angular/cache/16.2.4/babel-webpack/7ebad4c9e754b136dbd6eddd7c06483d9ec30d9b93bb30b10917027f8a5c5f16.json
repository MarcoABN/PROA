{"ast":null,"code":"import { Cliente } from 'src/app/model/cliente';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/front-cliente.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/services/cep.service\";\nimport * as i4 from \"src/app/services/validacao/validadorcpfcnpj.service\";\nimport * as i5 from \"@angular/forms\";\nexport let CadastrarClienteComponent = /*#__PURE__*/(() => {\n  class CadastrarClienteComponent {\n    constructor(ClienteService, router, cepService, serviceCpfCnpj) {\n      this.ClienteService = ClienteService;\n      this.router = router;\n      this.cepService = cepService;\n      this.serviceCpfCnpj = serviceCpfCnpj;\n      this.cliente = new Cliente();\n      this.mensagemErro = '';\n    }\n    ngOnInit() {}\n    retornar() {\n      this.router.navigate(['inicio']);\n    }\n    confirmCancel() {\n      const confirmation = confirm(\"Você realmente deseja cancelar a operação?\");\n      if (confirmation) {\n        this.retornar(); //Chame a função que lida com a ação de cancelar\n      }\n    }\n\n    onSubmit() {\n      if (!this.cliente.nome) {\n        alert(\"Por favor, preencha todos os campos.\");\n        return;\n      }\n      if (!this.serviceCpfCnpj.validarCpfCnpj(this.cliente.cpfcnpj)) {\n        alert('CPF ou CNPJ inválido!');\n      }\n      if (this.serviceCpfCnpj.validarCpfCnpj(this.cliente.cpfcnpj)) {\n        this.cliente.id = 0;\n        this.cliente.cpfcnpj = this.cliente.cpfcnpj.replace(/[^\\d]+/g, '');\n        this.ClienteService.cadastrarCliente(this.cliente).subscribe(data => {\n          alert(\"Cadastro realizado com sucesso!\");\n          this.retornar();\n        }, error => {\n          if (error.error && error.error.message && error.error.message.includes(\"duplicate key value violates unique constraint \\\"cpfcnpj\\\"\")) {\n            alert(\"O CPF/CNPJ informado já está cadastrado.\");\n          } else {\n            alert(\"Ocorreu um erro ao realizar o cadastro. Tente novamente.\");\n          }\n          console.error(\"Erro ao cadastrar cliente: \", error);\n        });\n      }\n    }\n    buscarEndereco() {\n      if (this.cliente.cep) {\n        this.cepService.buscarCep(this.cliente.cep).subscribe(dados => {\n          if (dados) {\n            this.cliente.logradouro = dados.logradouro;\n            this.cliente.bairro = dados.bairro;\n            this.cliente.uf = dados.uf;\n            this.cliente.cidade = dados.localidade;\n          }\n        }, error => {\n          console.error('Erro ao buscar o endereço:', error);\n        });\n      }\n    }\n    static #_ = this.ɵfac = function CadastrarClienteComponent_Factory(t) {\n      return new (t || CadastrarClienteComponent)(i0.ɵɵdirectiveInject(i1.FrontClienteService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.CepService), i0.ɵɵdirectiveInject(i4.ValidadorcpfcnpjService));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CadastrarClienteComponent,\n      selectors: [[\"app-cadastrar-cliente\"]],\n      decls: 118,\n      vars: 18,\n      consts: [[1, \"container\", \"mt-4\", \"scrollable-content\"], [3, \"ngSubmit\"], [\"clienteForm\", \"ngForm\"], [1, \"card\", \"mb-4\"], [1, \"card-body\"], [1, \"row\"], [1, \"col-md-6\"], [1, \"form-group\"], [\"for\", \"nome\"], [\"type\", \"text\", \"id\", \"nome\", \"name\", \"nome\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"rg\"], [\"type\", \"text\", \"id\", \"rg\", \"name\", \"rg\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"orgEmissor\"], [\"type\", \"text\", \"id\", \"orgEmissor\", \"name\", \"orgEmissor\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"dtEmissao\"], [\"type\", \"date\", \"id\", \"dtEmissao\", \"name\", \"dtEmissao\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"cpfcnpj\"], [\"type\", \"text\", \"id\", \"cpfcnpj\", \"name\", \"cpfcnpj\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"nacionalidade\"], [\"type\", \"text\", \"id\", \"nacionalidade\", \"name\", \"nacionalidade\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"naturalidade\"], [\"type\", \"text\", \"id\", \"naturalidade\", \"name\", \"naturalidade\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"dtNasc\"], [\"type\", \"date\", \"id\", \"dtNasc\", \"name\", \"dtNasc\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"telefone\"], [\"type\", \"text\", \"id\", \"telefone\", \"name\", \"telefone\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"celular\"], [\"type\", \"text\", \"id\", \"celular\", \"name\", \"celular\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"email\"], [\"type\", \"email\", \"id\", \"email\", \"name\", \"email\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"card-header\", \"bg-light\"], [1, \"mb-0\"], [\"for\", \"CEP\"], [1, \"input-group\"], [\"type\", \"text\", \"id\", \"CEP\", \"name\", \"CEP\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"input-group-append\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [\"for\", \"logradouro\"], [\"type\", \"text\", \"id\", \"logradouro\", \"name\", \"logradouro\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"numero\"], [\"type\", \"number\", \"id\", \"numero\", \"name\", \"numero\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"bairro\"], [\"type\", \"text\", \"id\", \"bairro\", \"name\", \"bairro\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"complemento\"], [\"type\", \"text\", \"id\", \"complemento\", \"name\", \"complemento\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"col-md-3\"], [\"for\", \"cidade\"], [\"type\", \"text\", \"id\", \"cidade\", \"name\", \"cidade\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"UF\"], [\"type\", \"text\", \"id\", \"UF\", \"name\", \"UF\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"button-container\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", 2, \"margin-left\", \"10px\", 3, \"click\"]],\n      template: function CadastrarClienteComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n          i0.ɵɵtext(2, \"Cadastrar Cliente\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(3, \"br\");\n          i0.ɵɵelementStart(4, \"h4\");\n          i0.ɵɵtext(5, \"Detalhes do Cliente\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"form\", 1, 2);\n          i0.ɵɵlistener(\"ngSubmit\", function CadastrarClienteComponent_Template_form_ngSubmit_6_listener() {\n            return ctx.onSubmit();\n          });\n          i0.ɵɵelementStart(8, \"div\", 3)(9, \"div\", 4)(10, \"div\", 5)(11, \"div\", 6)(12, \"div\", 7)(13, \"label\", 8);\n          i0.ɵɵtext(14, \"Nome:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"input\", 9);\n          i0.ɵɵlistener(\"ngModelChange\", function CadastrarClienteComponent_Template_input_ngModelChange_15_listener($event) {\n            return ctx.cliente.nome = $event;\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(16, \"div\", 6)(17, \"div\", 7)(18, \"label\", 10);\n          i0.ɵɵtext(19, \"RG:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"input\", 11);\n          i0.ɵɵlistener(\"ngModelChange\", function CadastrarClienteComponent_Template_input_ngModelChange_20_listener($event) {\n            return ctx.cliente.rg = $event;\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(21, \"div\", 6)(22, \"div\", 7)(23, \"label\", 12);\n          i0.ɵɵtext(24, \"Org\\u00E3o Emissor:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(25, \"input\", 13);\n          i0.ɵɵlistener(\"ngModelChange\", function CadastrarClienteComponent_Template_input_ngModelChange_25_listener($event) {\n            return ctx.cliente.orgEmissor = $event;\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(26, \"div\", 6)(27, \"div\", 7)(28, \"label\", 14);\n          i0.ɵɵtext(29, \"Data de Emiss\\u00E3o:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(30, \"input\", 15);\n          i0.ɵɵlistener(\"ngModelChange\", function CadastrarClienteComponent_Template_input_ngModelChange_30_listener($event) {\n            return ctx.cliente.dtEmissao = $event;\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(31, \"div\", 6)(32, \"div\", 7)(33, \"label\", 16);\n          i0.ɵɵtext(34, \"CPF/CNPJ:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(35, \"input\", 17);\n          i0.ɵɵlistener(\"ngModelChange\", function CadastrarClienteComponent_Template_input_ngModelChange_35_listener($event) {\n            return ctx.cliente.cpfcnpj = $event;\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(36, \"div\", 6)(37, \"div\", 7)(38, \"label\", 18);\n          i0.ɵɵtext(39, \"Nacionalidade:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(40, \"input\", 19);\n          i0.ɵɵlistener(\"ngModelChange\", function CadastrarClienteComponent_Template_input_ngModelChange_40_listener($event) {\n            return ctx.cliente.nacionalidade = $event;\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(41, \"div\", 6)(42, \"div\", 7)(43, \"label\", 20);\n          i0.ɵɵtext(44, \"Naturalidade:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(45, \"input\", 21);\n          i0.ɵɵlistener(\"ngModelChange\", function CadastrarClienteComponent_Template_input_ngModelChange_45_listener($event) {\n            return ctx.cliente.naturalidade = $event;\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(46, \"div\", 6)(47, \"div\", 7)(48, \"label\", 22);\n          i0.ɵɵtext(49, \"Data de Nascimento:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(50, \"input\", 23);\n          i0.ɵɵlistener(\"ngModelChange\", function CadastrarClienteComponent_Template_input_ngModelChange_50_listener($event) {\n            return ctx.cliente.dataNasc = $event;\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(51, \"div\", 6)(52, \"div\", 7)(53, \"label\", 24);\n          i0.ɵɵtext(54, \"Telefone:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(55, \"input\", 25);\n          i0.ɵɵlistener(\"ngModelChange\", function CadastrarClienteComponent_Template_input_ngModelChange_55_listener($event) {\n            return ctx.cliente.telefone = $event;\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(56, \"div\", 6)(57, \"div\", 7)(58, \"label\", 26);\n          i0.ɵɵtext(59, \"Celular:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(60, \"input\", 27);\n          i0.ɵɵlistener(\"ngModelChange\", function CadastrarClienteComponent_Template_input_ngModelChange_60_listener($event) {\n            return ctx.cliente.celular = $event;\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(61, \"div\", 6)(62, \"div\", 7)(63, \"label\", 28);\n          i0.ɵɵtext(64, \"Email:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(65, \"input\", 29);\n          i0.ɵɵlistener(\"ngModelChange\", function CadastrarClienteComponent_Template_input_ngModelChange_65_listener($event) {\n            return ctx.cliente.email = $event;\n          });\n          i0.ɵɵelementEnd()()()()()();\n          i0.ɵɵelementStart(66, \"div\", 3)(67, \"div\", 30)(68, \"h4\", 31);\n          i0.ɵɵtext(69, \"Endere\\u00E7o\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(70, \"div\", 4)(71, \"div\", 5)(72, \"div\", 6)(73, \"div\", 7)(74, \"label\", 32);\n          i0.ɵɵtext(75, \"CEP\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(76, \"div\", 33)(77, \"input\", 34);\n          i0.ɵɵlistener(\"ngModelChange\", function CadastrarClienteComponent_Template_input_ngModelChange_77_listener($event) {\n            return ctx.cliente.cep = $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(78, \"div\", 35)(79, \"button\", 36);\n          i0.ɵɵlistener(\"click\", function CadastrarClienteComponent_Template_button_click_79_listener() {\n            return ctx.buscarEndereco();\n          });\n          i0.ɵɵtext(80, \"Buscar\");\n          i0.ɵɵelementEnd()()()()();\n          i0.ɵɵelementStart(81, \"div\", 6)(82, \"div\", 7)(83, \"label\", 37);\n          i0.ɵɵtext(84, \"Logradouro\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(85, \"input\", 38);\n          i0.ɵɵlistener(\"ngModelChange\", function CadastrarClienteComponent_Template_input_ngModelChange_85_listener($event) {\n            return ctx.cliente.logradouro = $event;\n          });\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(86, \"div\", 5)(87, \"div\", 6)(88, \"div\", 7)(89, \"label\", 39);\n          i0.ɵɵtext(90, \"N\\u00FAmero\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(91, \"input\", 40);\n          i0.ɵɵlistener(\"ngModelChange\", function CadastrarClienteComponent_Template_input_ngModelChange_91_listener($event) {\n            return ctx.cliente.numero = $event;\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(92, \"div\", 6)(93, \"div\", 7)(94, \"label\", 41);\n          i0.ɵɵtext(95, \"Bairro\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(96, \"input\", 42);\n          i0.ɵɵlistener(\"ngModelChange\", function CadastrarClienteComponent_Template_input_ngModelChange_96_listener($event) {\n            return ctx.cliente.bairro = $event;\n          });\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(97, \"div\", 5)(98, \"div\", 6)(99, \"div\", 7)(100, \"label\", 43);\n          i0.ɵɵtext(101, \"Complemento\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(102, \"input\", 44);\n          i0.ɵɵlistener(\"ngModelChange\", function CadastrarClienteComponent_Template_input_ngModelChange_102_listener($event) {\n            return ctx.cliente.complemento = $event;\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(103, \"div\", 45)(104, \"div\", 7)(105, \"label\", 46);\n          i0.ɵɵtext(106, \"Cidade\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(107, \"input\", 47);\n          i0.ɵɵlistener(\"ngModelChange\", function CadastrarClienteComponent_Template_input_ngModelChange_107_listener($event) {\n            return ctx.cliente.cidade = $event;\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(108, \"div\", 45)(109, \"div\", 7)(110, \"label\", 48);\n          i0.ɵɵtext(111, \"UF\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(112, \"input\", 49);\n          i0.ɵɵlistener(\"ngModelChange\", function CadastrarClienteComponent_Template_input_ngModelChange_112_listener($event) {\n            return ctx.cliente.uf = $event;\n          });\n          i0.ɵɵelementEnd()()()()()();\n          i0.ɵɵelementStart(113, \"div\", 50)(114, \"button\", 51);\n          i0.ɵɵtext(115, \"Salvar\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(116, \"button\", 52);\n          i0.ɵɵlistener(\"click\", function CadastrarClienteComponent_Template_button_click_116_listener() {\n            return ctx.confirmCancel();\n          });\n          i0.ɵɵtext(117, \"Cancelar\");\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(15);\n          i0.ɵɵproperty(\"ngModel\", ctx.cliente.nome);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngModel\", ctx.cliente.rg);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngModel\", ctx.cliente.orgEmissor);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngModel\", ctx.cliente.dtEmissao);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngModel\", ctx.cliente.cpfcnpj);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngModel\", ctx.cliente.nacionalidade);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngModel\", ctx.cliente.naturalidade);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngModel\", ctx.cliente.dataNasc);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngModel\", ctx.cliente.telefone);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngModel\", ctx.cliente.celular);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngModel\", ctx.cliente.email);\n          i0.ɵɵadvance(12);\n          i0.ɵɵproperty(\"ngModel\", ctx.cliente.cep);\n          i0.ɵɵadvance(8);\n          i0.ɵɵproperty(\"ngModel\", ctx.cliente.logradouro);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngModel\", ctx.cliente.numero);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngModel\", ctx.cliente.bairro);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngModel\", ctx.cliente.complemento);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngModel\", ctx.cliente.cidade);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngModel\", ctx.cliente.uf);\n        }\n      },\n      dependencies: [i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NumberValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.NgModel, i5.NgForm],\n      styles: [\".scrollable-content[_ngcontent-%COMP%]{max-height:80vh;overflow-y:auto;padding-right:15px;margin-bottom:20px}.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#a9a9a9;border-radius:10px}.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}\"]\n    });\n  }\n  return CadastrarClienteComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}